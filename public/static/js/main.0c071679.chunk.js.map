{"version":3,"sources":["storage/CookieBase.js","utils/CookieManager.js","hoc/Layout/Layout.js","components/UI/Spinner/Spinner.js","storage/cookies/VisitorCookie.js","logic/VisitorPrefs.js","components/BenefitsTool/CookieNotice/CookieNotice.js","components/UI/IconButton/IconButton.js","components/UI/Message/Message.js","components/UI/Controls/Controls.js","components/BenefitsTool/Intro/Intro.js","storage/cookies/IdentifierCookie.js","storage/Api.js","utils/Logger.js","storage/cookies/LanguageCookie.js","utils/Language.js","storage/redux/utility.js","logic/Questions.js","storage/cookies/AnswersCookie.js","storage/redux/actions/tool.js","storage/redux/actions/actionTypes.js","containers/BenefitsTool/Landing/Landing.js","components/BenefitsTool/StepCounter/StepCounter.js","components/BenefitsTool/Question/Question.js","containers/BenefitsTool/Quiz/Quiz.js","components/BenefitsTool/AnswerList/ViewAnswer/ViewAnswer.js","components/BenefitsTool/AnswerList/EditAnswer/EditAnswer.js","components/BenefitsTool/AnswerList/AnswerList.js","containers/BenefitsTool/Confirmation/EditAnswers/EditAnswers.js","components/BenefitsTool/ContactInfo/ContactInfo.js","containers/BenefitsTool/Confirmation/Confirmation.js","components/UI/LinkList/LinkList.js","components/UI/ExpandedSection/ExpandedSection.js","components/BenefitsTool/Response/Response.js","logic/results/Screening.js","logic/results/Eligibility.js","logic/results/ProcessText.js","logic/results/Resources.js","logic/CollectResults.js","containers/BenefitsTool/Results/Results.js","components/BenefitsTool/Basic/Basic.js","containers/BenefitsTool/Disclaimer/Disclaimer.js","containers/BenefitsTool/PrivacyPolicy/PrivacyPolicy.js","utils/Pixels.js","containers/BenefitsTool/BenefitsTool.js","hoc/AdminPage/AdminPage.js","components/Admin/DeployMessage/DeployMessage.js","hoc/Aux/Aux.js","components/UI/Table/Table.js","containers/Admin/Advanced/List/List.js","components/UI/ProcessingButton/ProcessingButton.js","components/UI/RawTextBox/RawTextBox.js","components/Admin/FunctionBox/FunctionBox.js","containers/Admin/Advanced/Save/Save.js","containers/Admin/Advanced/Load/Load.js","containers/Admin/Advanced/Replace/Replace.js","containers/Admin/Advanced/Advanced.js","containers/Admin/Results/List/List.js","components/UI/SelectFilters/SelectFilters.js","components/Admin/CompareTable/CompareTable.js","utils/Markdown.js","containers/Admin/Results/Filter/Filter.js","components/Admin/EditMarkdown/EditMarkdown.js","components/Admin/Form/Form.js","components/Admin/Form/Element/Element.js","containers/Admin/Results/Edit/Edit.js","containers/Admin/Results/Results.js","components/UI/Backdrop/Backdrop.js","components/UI/Modal/Modal.js","components/Admin/ConfirmDeleteResource/ConfirmDeleteResource.js","components/Admin/ActionButtons/ActionButtons.js","containers/Admin/Resources/List/List.js","containers/Admin/Resources/Edit/Edit.js","containers/Admin/Resources/Resources.js","components/UI/SearchFilters/SearchFilters.js","containers/Admin/Language/List/List.js","containers/Admin/Language/Edit/Edit.js","containers/Admin/Language/Language.js","components/Admin/DashboardBlock/DashboardBlock.js","containers/Admin/Dashboard/Dashboard.js","utils/utils.js","containers/Admin/Responses/Responses.js","hoc/AdminLayout/AdminLayout.js","components/LoginBox/LoginBox.js","containers/Login/Login.js","storage/cookies/LoginCookie.js","containers/Admin/Admin.js","containers/Main/Main.js","App.js","serviceWorker.js","storage/redux/reducers/tool.js","index.js"],"names":["CookieBase","name","specs","compressed","filter","manager","CookieManager","this","val","get","cookieobj","expandData","cookiestring","contractData","set","remove","text","Buffer","toString","JSON","parse","e","console","log","stringify","cm","Cookies","layout","props","copyrightDate","Date","getFullYear","className","href","src","alt","lang","logo_alt_text","header_title","children","title","facebook_title","twitter_title","spinner","classes","color","push","join","visitorCookie","path","maxAge","sameSite","VERSION_RELEASED","DateTime","fromISO","zone","COOKIE_BLANK","id","save_date","prefs","ACCEPT_ALL","allow_cookies_thirdparty","REJECT_ALL","options","key","title_lang_key","desc_lang_key","input","found","error","visitor_data","VisitorCookie","new_id","uuidv4","clean","k","local","CookieNotice","useState","current","setCurrent","simpleView","setSimpleView","show","view","dangerouslySetInnerHTML","__html","message_simple","onClick","preventDefault","configure_link_text","saved","accept_button_text","reject_button_text","controls","settings","map","opt","control","value","aria-labelledby","onChange","newVals","swapToggle","checked","disabled","htmlFor","label","description","message_detailed","save_button_text","iconButton","icon","icon_type","add_class","clicked","append_text","message","type","tryagain_text","closed","tryagain","custom_button","buttons","button","attributes","cname","classNames","links","link","errorMessage","length","buttonLayout","intro","header","disclaimer_title","to","disclaimer_link","identifierCookie","axiosInstance","axios","create","baseURL","headers","info","toJSON","context","request_url","config","request_data","data","response","status","code","msg","request","visitor_id","on_success","on_error","token","IdentifierCookie","checkToken","then","catch","isAxiosError","parsed","parseAxiosError","Logger","err","api_error","bumpSessionInit","initSession","alert","returned","getAxios","post","which","version","uuid","LEVELS","logger_settings","level","cutoffLevel","cutoffLevelConsole","cutoffLevelApi","cutoffLevelDatabase","rollbar","getLevelRank","clevel","console_level","alevel","api_level","dlevel","database_level","Rollbar","accessToken","captureUncaught","captureUnhandledRejections","payload","environment","process","url","window","location","pathname","search","method","route","component","levelNum","indexOf","writeToConsole","writeToApi","store","writeToRollbar","Api","trackError","new_context","tracking_error","debug","warning","critical","languageCookie","TRANSLATIONS","en","English","TOKEN_OPTIONS","employee_type","Language","language_code","loaded","translations","allowed_languages","r","cookie_lang","LanguageCookie","includes","load","tokens","translation","get_raw","replace_tokens","Keys","markdown_allowed","markdown","match","init","doc","md","require","render","get_token_options","regexp","RegExp","replace","updateObject","base","change","Questions","question_order","Data","order","localized_data","english_data","qcode","letter","spec","answers","letters","answer","answerKey","validAnswer","step","loadLocalizedData","loadEnglishData","english_answers","toUpperCase","confirmation","aspec","selected","Object","keys","sort","question","help","getData","Local","LangObj","full_lang_key","lang_key","help_lang_key","ready","started","warn","q_code","answersCookie","filterAnswers","answerPush","dispatch","getState","newAnswers","AnswersCookie","Landing","state","startQuiz","setState","bumpSession","goToQuiz","errorOrMoveOn","clearAnswers","history","setComponent","error_msg","Component","connect","withRouter","stepCounter","bullets","i","steps","currentStep","questionText","helpText","Quiz","clickAnswer","getCodeByStep","saveAnswer","goBack","newStep","currentUrlStep","goToStep","stepNum","count","cancelQuiz","restartQuiz","params","test","parseInt","isNaN","error_message","back_link_text","restart_link_text","cancel_link_text","stepCount","getLocalSpec","target","qspec","answerButtons","aKey","has_error","redirect","step_saved","newPath","initQuestion","answers_push_error","actions","viewAnswer","selectedAnswer","edit_title","clickedEdit","edit_alt","editAnswer","abuttons","btn","cancel_title","clickedCancel","cancel_alt","answerList","questions","answerBlock","isEditing","EditAnswer","ViewAnswer","EditAnswers","editingAnswer","getLocalConfirmation","saveEdit","cancelEdit","startEdit","contactInfo","invitation","onSubmit","email_label","emailError","email_error","email","emailChanged","autoComplete","zip_label","zipError","zip_error","zip","zipChanged","Confirmation","loading","saveError","contactValidOrEmpty","hasRecordingError","regexValidZip","changeEmail","newstate","EmailValidator","okToSubmitContact","changeZip","confirmAnswers","getEnglishAnswers","trim","contact","recordResponse","validOrEmpty","edit_answers","confirm_button","restart_link","recording_error","firstMissingStep","goto","linkList","elem","rel","class","ExpandedSection","expanded","setExpanded","readmore_link","expanded_block","read_more","more_classes","read_less","resources","LinkList","resources_header","answerSections","section","resourceBlock","resources_intro","conditions","ConditionsData","firstPass","simple","splitTypeByEssential","splitBooksByTaxes","books","splitBooksByCompliance","splitLengthByYear","splitLengthByMonths","employedByYearAndHours","workForNYS","findReasonForFFCRA","rolling","findReasonForNYS","secondPass","eligibility","byBenefit","benefit","scenario","cond","pass","m","scenarios","newScenarios","ScenariosData","bdata","enabled","c","type_answer","type_replacement","typeAnswer","getAnswerLetters","toLowerCase","f","result_key","findTypeReplacement","ResourceData","benefits","other","BenefitsData","Screening","runFirstPass","Eligibility","screen","runSecondPass","ProcessText","setEmployeeType","sections","getAllSections","getOtherResources","benefitSections","getBenefitSections","getBooksSection","result","lang_key_result","lang_key_expanded","Resources","getBenefitResources","Results","clickCTAButton","open","scrollTo","results","CollectResults","compile","ctas","CtaData","Math","floor","random","cta","basic","body","back","back_title","back_link","Disclaimer","PrivacyPolicy","ALL_PIXELS","pref_setting","pixel","fbq","BenefitsTool","onToolLoaded","cookie_notice","close_alt","VisitorPrefs","Pixels","invoke","visitor_prefs","show_cookie_notice","saveCookiePrefs","visitorPrefsStored","save","fetchFromCookie","visitorId","toolCookiesLoaded","adminPage","advanced","breadcrumbs","deployMessage","deployTime","DeployData","date_deployed","toLocaleString","DATETIME_FULL","version_num","aux","Table","hiddenCols","hideCols","col_class","header_cells","cols","h","toggle_cols","body_rows","rows","cells","clickable","snip","full","short","substring","size","toggler","toggle_collapse_title","toggle_expand_title","AdminAdvancedList","deploys","row","revertToRow","refresh","fetchDeploys","getAllDeploys","all","item","formatted","DATETIME_SHORT","getDeployDownloadUrl","fname","download","deployment_id","deploy_date","Aux","DeployMessage","processingButton","content","doWork","working","rawTextBox","rawtext","contents","emptytext","functionBox","emptyText","boxContents","explainer","buttonText","successBox","AdminAdvancedSave","processing","process_data","download_info","deploy","deployAdmin","vnum","downloadLink","AdminAdvancedLoad","initDeploys","deployment","revertAdmin","getId","fetchDeployment","getDeploymentInfo","functionTitle","functionExplainer","toFormat","AdminAdvancedReplace","replaceDatabase","alldata","lang_en","LangEnData","lang_keys","LangKeysData","ResourcesData","replaceAdmin","AdminAdvanced","goToSave","goToList","goToReplace","doLoad","Load","Replace","AdminResultsList","language","editScenarios","editResources","fetchBenefits","editCommonResources","editCommonLanguage","getBenefits","abbreviation","selectFilters","empty","selects","select","option","changed","CompareTable","doChange","choice","layout_selector","AdminResultsFilter","filters","list_cols","list_snip","filterResponses","condition","getAttribute","selectedIndex","prevState","newFilters","setLayout","newLayout","fetchBenefit","getScenarios","key_name","markup","split","Markdown","condition_map","crumbs","selectProps","helpToElem","enabled_row","short_row","long_row","edit_row","eligibleFlag","markdownToElem","en_result","en_expanded","getEditLink","combined","EditMarkdown","viewtype","setViewType","replacement","setReplacement","previewText","setPreviewText","wrapped","setWrapped","highlighted","setHighlighted","toggle","doHelp","replacementButtons","doValueChange","newtext","replace_token","replace_options","preview","hlclasses","regexp1","TOKEN_REGEX_TAG_OPEN","regexp2","previewBox","minrows","editBox","minRows","defaultValue","adminForm","success","submitted","valid","button_text","adminElement","AdminResultsEdit","processing_error","form","formValid","fetchScenario","submitForm","saveScenario","scenario_id","clickedEnabled","stopPropagation","newForm","copyForm","validate","changedResult","changedExpanded","getScenario","buildHelp","allhelp","scenarioLines","elements","AdminResults","Edit","Filter","backdrop","modal","cancel","confirmDeleteResource","candidate","desc","confirm","confirming","actionButtons","AdminResourcesList","confirming_delete","delete_candidate","processing_delete","deleted","resources_clickable","delete","resources_snip","newResource","getBenefitCode","fetchResources","cancelDelete","confirmDelete","deleteResource","closeDeleteMessage","fetch_all","getResources","b_code","getBenefitInfo","resources_rows","resource","edit_link","en_text","en_desc","edit","resources_cols","AdminResourcesEdit","reload_id","all_benefits","benefit_id","link_en","changedBenefitID","changedLink","changedText","changedDescription","lang_key_text","lang_key_desc","form_id","NaN","b","saveResource","doNext","fetchResource","getResource","refreshForm","newState","markLoaded","oldForm","unshift","AdminResources","doEdit","doList","searchFilters","searches","clearButton","clear_title","cleared","SKIP_SECTIONS","AdminLanguageList","english","editRow","fetchLanguage","setSectionFilter","newFilter","doSearch","clearSearch","getAllLanguage","getSection","s","filterBySection","filterRows","tablerow","sectitle","w","AdminLanguageEdit","language_info","original_english","fetchInfo","changeEnglish","submitEdit","getKey","saveTranslation","getLanguageInfo","helptext","helpbox","elem_class","token_replace","AdminLanguage","dashboardBlock","AdminDashboard","responses_loaded","responses_error","responses","contacts_loaded","contacts_error","contacts","responses_headers","contacts_headers","refreshResponses","fetchRecentResponses","refreshContacts","fetchRecentContacts","getRecentResponses","recent","date","getRecentContacts","given","slice","tmp","shuffle","zip_code","AdminResponses","fetchResponses","getAllResponses","response_id","do_cols","getEnglishSpec","getResponsesDownloadUrl","AdminLayout","exact","loginBox","loginError","login_error","username_label","username","usernameChanged","password_label","password","passwordChanged","Login","loaded_lang","changeUsername","changePassword","login_type","checkPrelaunchLogin","checkAdminLogin","updateLoginState","loginCookie","Admin","loggedIn","updateLogin","LoginCookie","checkAdminToken","Responses","Dashboard","Main","App","Boolean","hostname","initialState","visitor_id_loaded","cookies_fetch_error","answers_loaded","answers_update_error","setLoaded","toolCookiesLoadFailed","action","answersClear","questionInit","answersPushStarted","answersPushCompleted","answersPushFailed","answersUpdateStarted","answersUpdateCompleted","answersUpdateFailed","reducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","toolReducer","applyMiddleware","thunk","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.0c071679.chunk.js","sourcesContent":["import CookieManager from '../utils/CookieManager';\n\nclass CookieBase {\n\n    manager = CookieManager;\n    name = null;\n    specs = {};\n    compressed = false;\n    filter = null;\n\n    constructor(name, specs, compressed, filter) {\n        this.name = name;\n        this.specs = typeof(specs) === 'object' ? specs : {};\n        this.compressed = compressed ? true : false;\n        this.filter = typeof(filter) === 'function' ? filter : null;\n    }\n\n    get() {\n        let val = this.manager.get(this.name);\n        if (this.compressed) {\n            let cookieobj = this.expandData(val);\n            if (cookieobj === null) {\n                return {};\n            }\n            val = cookieobj;\n        }\n        if (this.filter) {\n            return this.filter(val);\n        }\n        return val;\n    }\n\n    set(val) {\n        if (this.filter) {\n            val = this.filter(val);\n        }\n        if (this.compressed) {\n            let cookiestring = this.contractData(val);\n            if (cookiestring) {\n                val = cookiestring;\n            }\n        }\n        return this.manager.set(this.name, val, this.specs);\n    }\n\n    remove() {\n        this.manager.remove(this.name);\n    }\n\n    expandData(cookiestring) {\n        let cookieobj = {};\n        try {\n            let buff = new Buffer(cookiestring, 'base64');\n            let text = buff.toString('utf8');\n            cookieobj = JSON.parse(text);\n        } catch (e) {\n            console.log('Cookie value was not valid json; starting over');\n            return null;\n        }\n        return cookieobj;\n    }\n\n    contractData(cookieobj) {\n        const text = JSON.stringify(cookieobj);\n        let buff = new Buffer(text);\n        return buff.toString('base64');\n    }\n\n};\n\nexport default CookieBase;\n\n","import Cookies from 'universal-cookie';\n\nconst cm = new Cookies();\n\nexport default cm;\n","import React from 'react';\n\nimport './Layout.css';\n\nconst layout = (props) => {\n\n    const copyrightDate = (new Date()).getFullYear();\n    return (\n        <div className=\"BenefitsTool\">\n            <div className=\"Logo\">\n                <a href=\"https://domesticemployers.org/\"><img src=\"/images/logo.png\" alt={props.lang.logo_alt_text} /></a>\n            </div>\n            <div className=\"Header\">\n                <h1><a href=\"/\">{props.lang.header_title}</a></h1>\n            </div>\n            <div className=\"MainContent\">\n                {props.children}\n            </div>\n            <div className=\"Footer\">\n                <ul className=\"SocialIcons\">\n                    <li><a href=\"https://www.facebook.com/domesticemployers/\"><i className=\"fab fa-facebook-f\" title={props.lang.facebook_title}></i></a></li>\n                    <li><a href=\"https://twitter.com/HiHemployers\"><i className=\"fab fa-twitter\" title={props.lang.twitter_title}></i></a></li>\n                </ul>\n                <ul className=\"Links\">\n                    <li><a href=\"https://domesticemployers.org/\">&copy; {copyrightDate} Hand In Hand</a></li>\n                </ul>\n            </div>\n        </div>\n    );\n};\n\nexport default layout;\n","import React from 'react';\n\nimport './Spinner.css';\n\n// NB: We can't use language here because this is what we show when language data isn't loaded!\n\nconst spinner = (props) => {\n    let classes = [ 'Spinner' ];\n    if (props.color === 'gray-flipped') {\n        classes.push('GrayFlipped');\n    }\n    return (\n        <div className={classes.join(' ')}><span>Loading...</span></div>\n    );\n};\n\nexport default spinner;\n","import CookieBase from '../CookieBase';\n\nconst visitorCookie = new CookieBase(\n    'hnct-visitor', // name\n    {\n        path: '/',\n        maxAge: 60 * 60 * 24 * 365,\n        sameSite: 'Strict'\n    }, // spec\n    true // compressed\n);\n\nexport default visitorCookie;\n","import { v4 as uuidv4 } from 'uuid';\nimport { DateTime } from 'luxon';\n\nimport VisitorCookie from '../storage/cookies/VisitorCookie';\n\nconst VERSION_RELEASED = DateTime.fromISO('2020-08-19 00:00:00', { zone: 'America/New_York' });\nconst COOKIE_BLANK = { id: null, save_date: null, prefs: null };\n\nconst ACCEPT_ALL = { allow_cookies_thirdparty: true };\nconst REJECT_ALL = { allow_cookies_thirdparty: false };\n\nclass VisitorPrefs {\n\n    options = [\n        {\n            key: 'allow_cookies_self',\n            title_lang_key: 'cookie_notice_option_self_title',\n            desc_lang_key: 'cookie_notice_option_self_description',\n            input: 'always'\n        },\n        {\n            key: 'allow_cookies_thirdparty',\n            title_lang_key: 'cookie_notice_option_thirdparty_title',\n            desc_lang_key: 'cookie_notice_option_thirdparty_desc',\n            input: 'toggle'\n        }\n    ];\n\n    fetchFromCookie() {\n        let found = {\n            id: null,\n            prefs: null,\n            error: null\n        };\n\n        let visitor_data = VisitorCookie.get();\n        if (!visitor_data) {\n            visitor_data = COOKIE_BLANK;\n        }\n        if (!visitor_data.id) {\n            let new_id = uuidv4();\n            if (new_id) {\n                visitor_data.id = new_id;\n            } else {\n                found.error = 'Could not create a visitor ID';\n                return found;\n            }\n        }\n        VisitorCookie.set(visitor_data);\n        found.id = visitor_data.id;\n        found.prefs = 'prefs' in visitor_data ? visitor_data.prefs : null;\n\n        // Check save date. If we've updated our visitor preference settings\n        // since then, they'll need to reverify.\n        const save_date = visitor_data.save_date ? DateTime.fromISO(visitor_data.save_date) : null;\n        if (save_date !== null) {\n            if (save_date < VERSION_RELEASED) {\n                found.prefs = null;\n                return found;\n            }\n        }\n\n        // If we have prefs, load and verify them\n        if (found.prefs !== null) {\n            let clean = REJECT_ALL;\n            if (found.prefs !== null && typeof found.prefs === 'object') {\n                for (var k in REJECT_ALL) {\n                    if (found.prefs[k]) {\n                        clean[k] = true;\n                    }\n                }\n            }\n            found.prefs = clean;\n        }\n\n        return found;\n    }\n\n    save(prefs) {\n\n        // Fetch cookie\n        let visitor_data = VisitorCookie.get() || COOKIE_BLANK;\n\n        // Clean prefs\n        let clean = null;\n        if (prefs !== null) {\n            clean = REJECT_ALL;\n            for (var k in REJECT_ALL) {\n                if (prefs[k]) {\n                    clean[k] = true;\n                }\n            }\n        }\n        visitor_data.prefs = clean;\n\n        // Mark save date\n        visitor_data.save_date = DateTime.local();;\n\n        // Store it\n        VisitorCookie.set(visitor_data);\n\n        return clean;\n    }\n\n}\n\nexport { ACCEPT_ALL, REJECT_ALL };\nexport default new VisitorPrefs();\n","import React, { useState } from 'react';\nimport Toggle from 'react-toggle';\nimport 'react-toggle/style.css';\n\nimport { ACCEPT_ALL, REJECT_ALL } from '../../../logic/VisitorPrefs';\n\nimport './CookieNotice.css';\n\nconst CookieNotice = (props) => {\n    const [current, setCurrent] = useState(props.prefs);\n    const [simpleView, setSimpleView] = useState(true);\n\n    if (!props.show) {\n        return null;\n    }\n\n    let view = null;\n\n    if (simpleView) {\n\n        const doConfigure = (e) => { e.preventDefault(); setCurrent(REJECT_ALL); setSimpleView(false); };\n        const doReject = () => { props.saved(REJECT_ALL); };\n        const doAccept = () => { props.saved(ACCEPT_ALL); };\n\n        view = (\n            <div className=\"NoticeContent\">\n                <div className=\"NoticeMessage\">\n                    <h6>{props.lang.title}</h6>\n                    <div dangerouslySetInnerHTML={{__html: props.lang.message_simple}}></div>\n                </div>\n                <div className=\"SimpleChoices\">\n                    <div className=\"Configure\">\n                        <a href=\"#detailView\" className=\"ConfigureLink\" onClick={doConfigure}>{props.lang.configure_link_text}</a>\n                    </div>\n                    <div className=\"NoticeButtons\">\n                        <button className=\"AcceptButton\" onClick={doAccept}>{props.lang.accept_button_text}</button>\n                        <button className=\"RejectButton\" onClick={doReject}>{props.lang.reject_button_text}</button>\n                    </div>\n                </div>\n            </div>\n        );\n\n    } else {\n\n        const doSave = () => { props.saved(current); };\n        const swapToggle = (key) => {\n            let newVals = { ...current };\n            newVals[key] = !newVals[key];\n            setCurrent(newVals);\n        };\n\n        const controls = props.settings.map(opt => {\n            let control = null;\n            if (opt.input === 'toggle') {\n                control = <Toggle\n                    name={opt.key}\n                    value=\"1\"\n                    id={opt.key}\n                    aria-labelledby={opt.key + '_label'}\n                    onChange={() => swapToggle(opt.key) }\n                    checked={current ? current[opt.key] : false} />;\n            } else if (opt.input === 'always') {\n                control = <Toggle\n                    name={opt.key}\n                    value=\"1\"\n                    id={opt.key}\n                    aria-labelledby={opt.key + '_label'}\n                    checked disabled />;\n            }\n            return (\n                <div className=\"CookieSetting\" key={opt.key}>\n                    <label htmlFor={opt.key} id={opt.key + '_label'}>{opt.label}</label>\n                    <div className=\"OptDescription\" dangerouslySetInnerHTML={{__html: opt.description}}></div>\n                    <div className=\"OptControl\">{control}</div>\n                </div>\n            );\n        });\n\n        view = (\n            <div className=\"NoticeContent\">\n                <div className=\"NoticeMessage\">\n                    <h6>{props.lang.title}</h6>\n                    <div dangerouslySetInnerHTML={{__html: props.lang.message_detailed}}></div>\n                </div>\n                <div className=\"NoticeControls\">\n                    {controls}\n                </div>\n                <div className=\"NoticeButtons\">\n                    <button className=\"SaveButton\" onClick={doSave}>{props.lang.save_button_text}</button>\n                </div>\n            </div>\n        );\n\n    }\n\n    const doClose = () => {\n        if (simpleView) {\n            props.saved(ACCEPT_ALL);\n        } else {\n            props.saved(current);\n        }\n    };\n\n    return (\n        <div className=\"CookieNotice\">\n            <button className=\"CloseNotice\" onClick={doClose}><i className=\"fas fa-times\" title=\"{props.lang.close_alt}\"></i></button>\n            {view}\n        </div>\n    );\n};\n\nexport default CookieNotice;\n","import React from 'react';\n\nimport './IconButton.css';\n\nconst iconButton = (props) => {\n    let classes = [ 'IconButton' ];\n    let title = null;\n    let icon = 'fas fa-question';\n    if (props.icon_type === 'refresh') {\n        title = 'refresh';\n        icon = 'fas fa-sync-alt';\n    } else if (props.icon_type === 'edit') {\n        title = 'edit';\n        icon = 'fas fa-pencil-alt';\n    } else if (props.icon_type === 'preview') {\n        title = 'preview';\n        icon = 'far fa-eye';\n    } else if (props.icon_type === 'new') {\n        title = 'new';\n        icon = 'fas fa-plus-circle';\n    } else if (props.icon_type === 'close') {\n        title = 'close';\n        icon = 'fas fa-times';\n    }\n    if (props.title) {\n        title = props.title;\n    }\n    if (props.icon) {\n        icon = props.icon;\n    }\n    if (props.add_class) {\n        classes.push(props.add_class);\n    }\n    return (\n        <button className={classes.join(' ')} onClick={props.clicked}>\n            <i className={icon} title={title}></i>\n            {props.append_text ?\n                <span>{props.append_text}</span>\n            : null}\n        </button>\n    );\n};\n\nexport default iconButton;\n","import React from 'react';\n\nimport IconButton from '../IconButton/IconButton';\n\nimport './Message.css';\n\nconst message = (props) => {\n    let classes = [ 'Message' ];\n    if (props.type === 'error') {\n        classes.push('ErrorMessage');\n    } else if (props.type === 'success') {\n        classes.push('SuccessMessage');\n    }\n    let tryagain_text = props.tryagain_text ? props.tryagain_text : 'Try Again?';\n    return (\n        <div className={classes.join(' ')}>\n            {props.closed ?\n                <div className=\"CloseButton\">\n                    <IconButton icon_type=\"close\"\n                        clicked={props.closed} />\n                </div>\n            : null}\n            <p>{props.text}</p>\n            {props.tryagain ?\n                <IconButton icon_type=\"refresh\"\n                    clicked={props.tryagain}\n                    title={tryagain_text} />\n            : null}\n            {props.custom_button}\n        </div>\n    );\n\n};\n\nexport default message;\n\n","import React from 'react';\n\nimport Message from '../Message/Message';\n\nimport './Controls.css';\n\nconst controls = (props) => {\n\n    let buttons = {};\n    if (typeof props.buttons !== 'undefined') {\n        buttons = props.buttons\n            .map((button) => {\n                let attributes = {\n                    key: button.key ? button.key : button.text,\n                };\n                let cname = 'ControlButton';\n                if (button.classNames) {\n                    cname += ' ' + button.classNames.join(' ');\n                }\n                if (button.disabled) {\n                    attributes.disabled = true;\n                    cname += ' DisabledButton';\n                }\n                if (typeof button.clicked === 'function') {\n                    attributes.onClick = button.clicked;\n                }\n                attributes.className = cname;\n                return <button {...attributes}>{button.text}</button>;\n            });\n    }\n\n    let links = {};\n    if (typeof props.links !== 'undefined') {\n        links = props.links\n            .map((link) => {\n                let cname = 'ControlLink';\n                if (link.classNames) {\n                    cname += ' ' + link.classNames.join(' ');\n                }\n                return <div key={link.key ? link.key : link.text} className={cname} onClick={link.clicked}>{link.text}</div>;\n            });\n    }\n\n    return (\n        <div className=\"Controls\">\n        {props.errorMessage ?\n            <Message type=\"error\" text={props.errorMessage} />\n        : null}\n        {buttons.length > 0 ?\n            <div className={props.buttonLayout === 'vert' ? 'VertButtonContainer' : 'ButtonContainer'}>\n                {buttons}\n            </div>\n        : null}\n        {links.length > 0 ?\n            <div className=\"LinkContainer\">\n                {links}\n            </div>\n        : null}\n        </div>\n    );\n\n};\n\nexport default controls;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport Controls from '../../UI/Controls/Controls';\n\nimport './Intro.css';\n\nconst intro = (props) => {\n\n    const buttons = [\n        {\n            classNames: [ 'StartButton' ],\n            clicked: props.clicked,\n            text: 'Start'\n        }\n    ];\n\n    return (\n        <div>\n            <h2>{props.lang.header}</h2>\n\n            <div className=\"IntroMessage\" dangerouslySetInnerHTML={{__html: props.lang.message}}></div>\n\n            <div className=\"DisclaimerLink\" title={props.lang.disclaimer_title}>\n                <Link to=\"/disclaimer\">{props.lang.disclaimer_link}</Link>\n            </div>\n\n            <Controls buttons={buttons} errorMessage={props.error} />\n        </div>\n    );\n};\n\nexport default intro;\n","import CookieBase from '../CookieBase';\n\nconst identifierCookie = new CookieBase(\n    'hnct-sessionid', // name\n    {\n        path: '/',\n        maxAge: 60 * 10,\n        sameSite: 'Strict'\n    } // spec\n);\n\nexport default identifierCookie;\n","import axios from 'axios';\n\nimport IdentifierCookie from './cookies/IdentifierCookie';\nimport Logger from '../utils/Logger';\n\nconst BASE_BACKEND = process.env.NODE_ENV === 'production' ? '' : 'http://localhost2:3001';\nconst BASE_URL = BASE_BACKEND + '/api/v1.0';\n\nclass Api {\n\n    // This will be created when it's needed\n    axiosInstance = null;\n\n    getAxios() {\n        if (this.axiosInstance === null) {\n            this.axiosInstance = axios.create({\n                baseURL: BASE_URL,\n                headers: {\n                    \"Content-Type\": \"application/json; charset=utf-8\",\n                }\n            });\n        }\n        return this.axiosInstance;\n    }\n\n    parseAxiosError(error) {\n        const info = error.toJSON();\n        let context = {\n            message: info.message,\n            request_url: info.config.baseURL,\n            request_data: info.config.data\n        };\n        if (error.response) {\n            // The request was made and the server responded with a status code\n            // that falls out of the range of 2xx\n            context.status = error.response.status;\n            return {\n                code: error.response.data.code,\n                message: error.response.data.msg,\n                context: context\n            };\n        } else if (error.request) {\n            // The request was made but no response was received\n            // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n            // http.ClientRequest in node.js\n            return {\n                code: 'NETWORK_FAILURE',\n                message: context.message,\n                context: context\n            };\n        } else {\n            // Something happened in setting up the request that triggered an Error\n            return {\n                code: 'UNKNOWN',\n                message: error.message,\n                context: context\n            };\n        }\n    }\n\n    // Front end\n\n    bumpSession(visitor_id, on_success, on_error) {\n        let token = IdentifierCookie.get();\n        if (token) {\n            this.checkToken({ visitor_id: visitor_id, token: token })\n                .then(response => {\n                    IdentifierCookie.set(token); // re-up on the expiration\n                    if (typeof on_success === 'function') {\n                        on_success();\n                    }\n                })\n                .catch(error => {\n                    if (!error.isAxiosError) {\n                        throw error;\n                    }\n                    const parsed = this.parseAxiosError(error);\n                    if (parsed.code !== 'TOKEN_INVALID') {\n                        Logger.err('Session check failed', { api_error: parsed });\n                        if (typeof on_error === 'function') {\n                            on_error();\n                        }\n                    }\n                    this.bumpSessionInit(visitor_id, on_success, on_error);\n                });\n        } else {\n            this.bumpSessionInit(visitor_id, on_success, on_error);\n        }\n    }\n\n    bumpSessionInit(visitor_id, on_success, on_error) {\n        this.initSession({ visitor_id: visitor_id })\n            .then(response => {\n                if (response.data.token) {\n                    IdentifierCookie.set(response.data.token);\n                    if (typeof on_success === 'function') {\n                        on_success();\n                    }\n                } else {\n                    Logger.alert('Session init succeeded without returning a token', { returned: response.data });\n                    if (typeof on_error === 'function') {\n                        on_error();\n                    }\n                }\n            })\n            .catch(error => {\n                if (!error.isAxiosError) {\n                    throw error;\n                }\n                const parsed = this.parseAxiosError(error);\n                Logger.err('Session init failed', { api_error: parsed });\n                if (typeof on_error === 'function') {\n                    on_error();\n                }\n            });\n    }\n\n    initSession(data) {\n        return this.getAxios().post('/session/init', data);\n    }\n\n    checkToken(data) {\n        return this.getAxios().post('/session/check', data);\n    }\n\n    recordResponse(data) {\n        return this.getAxios().post('/response', data);\n    }\n\n    trackError(data) {\n        return this.getAxios().post('/error', data);\n    }\n\n    // Admin\n\n    checkAdminLogin(data) {\n        return this.getAxios().post('/admin/session/login', data);\n    }\n\n    checkAdminToken(data) {\n        return this.getAxios().post('/admin/session/check', data);\n    }\n\n    getRecentResponses(data) {\n        return this.getAxios().post('/admin/responses/recent', data);\n    }\n\n    getRecentContacts(data) {\n        return this.getAxios().post('/admin/contacts/recent', data);\n    }\n\n    getAllResponses(data) {\n        return this.getAxios().post('/admin/responses/all', data);\n    }\n\n    getAllLanguage(data) {\n        return this.getAxios().post('/admin/language', data);\n    }\n\n    getLanguageForSection(data) {\n        return this.getAxios().post('/admin/language/section', data);\n    }\n\n    getLanguageInfo(data) {\n        return this.getAxios().post('/admin/language/info', data);\n    }\n\n    saveTranslation(data) {\n        return this.getAxios().post('/admin/language/save', data);\n    }\n\n    getBenefits(data) {\n        return this.getAxios().post('/admin/benefits', data);\n    }\n\n    getBenefitInfo(code, data) {\n        return this.getAxios().post('/admin/benefits/' + code, data);\n    }\n\n    getScenarios(code, data) {\n        return this.getAxios().post('/admin/benefits/' + code + '/scenarios', data);\n    }\n\n    getScenario(code, id, data) {\n        return this.getAxios().post('/admin/benefits/' + code + '/scenario/' + id, data);\n    }\n\n    saveScenario(code, id, data) {\n        return this.getAxios().post('/admin/benefits/' + code + '/scenario/' + id + '/save', data);\n    }\n\n    getResources(data, which) {\n        if (which) {\n            return this.getAxios().post('/admin/resources/' + which, data);\n        } else {\n            return this.getAxios().post('/admin/resources', data);\n        }\n    }\n\n    getResource(id, data) {\n        return this.getAxios().post('/admin/resources/info/' + id, data);\n    }\n\n    saveResource(data) {\n        return this.getAxios().post('/admin/resources/save', data);\n    }\n\n    deleteResource(data) {\n        return this.getAxios().post('/admin/resources/delete', data);\n    }\n\n    getAllDeploys(data) {\n        return this.getAxios().post('/admin/deploy', data);\n    }\n\n    getDeploymentInfo(data) {\n        return this.getAxios().post('/admin/deploy/info', data);\n    }\n\n    revertAdmin(data) {\n        return this.getAxios().post('/admin/deploy/revert', data);\n    }\n\n    replaceAdmin(data) {\n        return this.getAxios().post('/admin/deploy/replace', data);\n    }\n\n    deployAdmin(data) {\n        return this.getAxios().post('/admin/deploy/save', data);\n    }\n\n    getDeployDownloadUrl(version, uuid, token) {\n        return BASE_BACKEND + '/download/deploy/' + version + '/' + uuid + '/' + token;\n    }\n\n    getResponsesDownloadUrl(token) {\n        return BASE_BACKEND + '/download/responses/all/' + token;\n    }\n\n    // Prelaunch\n\n    checkPrelaunchLogin(data) {\n        return this.getAxios().post('/prelaunch/login', data);\n    }\n\n    checkPrelaunchToken(data) {\n        return this.getAxios().post('/prelaunch/check', data);\n    }\n}\n\nexport default new Api();\n","import Rollbar from 'rollbar';\n\nimport Api from '../storage/Api';\n\nconst LEVELS = [\n    'EMERG',   // Emergency: system is unusable\n    'ALERT',   // Alert: action must be taken immediately\n    'CRIT',    // Critical: critical conditions\n    'ERR',     // Error: error conditions\n    'WARN',    // Warning: warning conditions\n    'NOTICE',  // Notice: normal but significant condition\n    'INFO',    // Informational: informational messages\n    'DEBUG'    // Debug: debug messages\n];\n\nclass Logger {\n\n    cutoffLevel = 0;\n    cutoffLevelConsole = 0;\n    cutoffLevelApi = 0;\n    cutoffLevelDatabase = 0;\n    rollbar = null;\n    request = {};\n\n    constructor(level, options) {\n        this.cutoffLevel = this.getLevelRank(level ? level : 'WARN');\n        let clevel = 'DEBUG';\n        if (options && 'console_level' in options) {\n            clevel = options.console_level;\n        }\n        this.cutoffLevelConsole = this.getLevelRank(clevel);\n        let alevel = 'ERR';\n        if (options && 'api_level' in options) {\n            alevel = options.api_level;\n        }\n        this.cutoffLevelApi = this.getLevelRank(alevel);\n        let dlevel = 'ALERT';\n        if (options && 'database_level' in options) {\n            dlevel = options.database_level;\n        }\n        this.cutoffLevelDatabase = this.getLevelRank(dlevel);\n        this.rollbar = new Rollbar({\n            accessToken: '3c1d54fceb0e496d9170a7100d56a69f',\n            captureUncaught: true,\n            captureUnhandledRejections: true,\n            payload: {\n                environment: process.env.NODE_ENV\n            }\n        });\n        this.request = {\n            url: window.location.pathname + window.location.search,\n            method: 'GET',\n            route: {\n                path: 'No Component Loaded'\n            }\n        };\n    }\n\n    setComponent(component) {\n        this.request.route.path = component;\n    }\n\n    getLevelRank(level) {\n        const levelNum = LEVELS.indexOf(level);\n        if (levelNum < 0) {\n            this.writeToConsole('WARN', 'Log level ' + level + ' unknown');\n        }\n        return levelNum;\n    }\n\n    emerg(message, context) { this.log('EMERG', message, context); }\n    alert(message, context) { this.log('ALERT', message, context); }\n    crit(message, context) { this.log('CRIT', message, context); }\n    err(message, context) { this.log('ERR', message, context); }\n    warn(message, context) { this.log('WARN', message, context); }\n    notice(message, context) { this.log('NOTICE', message, context); }\n    info(message, context) { this.log('INFO', message, context); }\n    debug(message, context) { this.log('DEBUG', message, context); }\n\n    log(level, message, context) {\n        console.log('Logging!', this.request);\n        if (this.getLevelRank(level) > this.cutoffLevel) {\n            return;\n        }\n        this.writeToConsole(level, message, context);\n        this.writeToApi(level, message, context);\n    }\n\n    writeToConsole(level, message, context) {\n        if (this.getLevelRank(level) > this.cutoffLevelConsole) {\n            return;\n        }\n        const msg = '[' + level + '] ' + message;\n        if (context) {\n            console.log(msg, context);\n        } else {\n            console.log(msg);\n        }\n    }\n\n    writeToApi(level, message, context) {\n        if (this.getLevelRank(level) > this.cutoffLevelApi) {\n            return;\n        }\n        const data = {\n            level: level,\n            message: message,\n            context: context\n        };\n        if (this.getLevelRank(level) <= this.cutoffLevelDatabase) {\n            data.store = true;\n        }\n        this.writeToRollbar(level, message, context); // TODO: Remove once we're confident local tracking is okay\n        Api.trackError(data)\n            .then(response => {\n                // All is well; ignore\n            })\n            .catch(error => {\n                // We can't handle this on our system; fallback to Rollbar\n                console.log('track error failed', error);\n                const new_context = { ...context, tracking_error: error };\n                this.writeToRollbar(level, message, new_context);\n            });\n    }\n\n    writeToRollbar(level, message, context) {\n        // debug: DEBUG\n        if (this.getLevelRank(level) > this.getLevelRank('NOTICE')) {\n            this.rollbar.debug(message, this.request, context);\n        // info: INFO, NOTICE\n        } else if (this.getLevelRank(level) > this.getLevelRank('WARN')) {\n            this.rollbar.info(message, this.request, context);\n        // warning: WARN\n        } else if (this.getLevelRank(level) > this.getLevelRank('ERR')) {\n            this.rollbar.warning(message, this.request, context);\n        // error: ERR\n        } else if (this.getLevelRank(level) > this.getLevelRank('CRIT')) {\n            this.rollbar.error(message, this.request, context);\n        // critical: CRIT, ALERT, EMERG\n        } else {\n            this.rollbar.critical(message, this.request, context);\n        }\n    }\n\n}\n\nlet logger_settings = {};\nif (process.env.NODE_ENV === 'production') {\n    logger_settings = {\n        level: 'NOTICE',\n        options: {\n            console_level: 'NOTICE',\n            api_level: 'NOTICE',\n            database_level: 'ALERT'\n        }\n    };\n} else {\n    logger_settings = {\n        level: 'DEBUG',\n        options: {\n            console_level: 'DEBUG',\n            api_level: 'ERR',\n            database_level: 'ERR'\n        }\n    };\n}\n\nexport default new Logger(logger_settings.level, logger_settings.options);\n","import CookieBase from '../CookieBase';\n\nconst languageCookie = new CookieBase(\n    'hnct-language', // name\n    {\n        path: '/',\n        sameSite: 'Strict'\n    } // spec\n);\n\nexport default languageCookie;\n","import Logger from './Logger';\nimport LanguageCookie from '../storage/cookies/LanguageCookie';\n\nimport Keys from '../data/lang_keys.json';\n\nimport English from '../data/lang_en.json';\n\nconst TRANSLATIONS = {\n    en: English\n};\n\nconst TOKEN_OPTIONS = {\n    employee_type: [ 'nanny', 'house cleaner', 'home attendant', 'home health care worker' ],\n};\n\nconst TOKEN_REGEX_TAG_OPEN = '\\\\{\\\\{';\nconst TOKEN_REGEX_TAG_CLOSE = '\\\\}\\\\}';\n\nclass Language {\n\n    language_code = null;\n    loaded = false;\n    translations = null;\n    allowed_languages = [ 'en' ];\n\n    load(code) {\n        let r = null;\n        if (code in TRANSLATIONS) {\n            r = TRANSLATIONS[code];\n        } else {\n            Logger.alert('No such language', { lang: code });\n            return false;\n        }\n        this.translations = r;\n        this.language_code = code;\n        this.loaded = true;\n    }\n\n    init() {\n        let cookie_lang = LanguageCookie.get();\n        if (cookie_lang && this.allowed_languages.includes(cookie_lang)) {\n            this.load(cookie_lang);\n        } else {\n            this.load('en');\n        }\n    }\n\n    get(key, tokens) {\n        let translation = this.get_raw(key);\n        if (translation === null) {\n            return key;\n        }\n        if (tokens) {\n            translation = this.replace_tokens(translation, tokens);\n        }\n        if (key in Keys) {\n            if (Keys[key].markdown_allowed) {\n                translation = this.markdown(translation);\n                if (!translation.match(/^</)) {\n                    translation = '<p>' + translation + '</p>';\n                }\n            }\n        }\n        return translation;\n    }\n\n    get_raw(key) {\n        if (!this.loaded) {\n            this.init();\n            if (!this.loaded) {\n                Logger.alert('Translation was requested, but the current language could not be loaded ', { key: key });\n                return null;\n            }\n        }\n        if (key in this.translations) {\n            return this.translations[key];\n        } else {\n            if (key in Keys) {\n                Logger.alert('Missing translation', { lang: this.language_code, key: key, doc: Keys[key] });\n            } else {\n                Logger.alert('Translation requested for undocumented key', { key: key });\n            }\n        }\n        return null;\n    }\n\n    markdown(translation) {\n        if (!this.md) {\n            this.md = require('markdown-it')();\n        }\n        return this.md.render(translation);\n    }\n\n    replace_tokens(translation, tokens) {\n        for (const token in tokens) {\n            if (this.get_token_options(token).includes(tokens[token])) {\n                const regexp = new RegExp(TOKEN_REGEX_TAG_OPEN +\n                    token + TOKEN_REGEX_TAG_CLOSE, 'g');\n                translation = translation.replace(regexp, tokens[token]);\n            }\n        }\n        return translation;\n    }\n\n    get_token_options(token) {\n        if (token in TOKEN_OPTIONS) {\n            return TOKEN_OPTIONS[token];\n        }\n        return [];\n    }\n\n}\n\nexport { Language, TOKEN_REGEX_TAG_OPEN, TOKEN_REGEX_TAG_CLOSE };\nexport default new Language('en');\n","export const updateObject = (base, change) => {\n    return {\n        ...base,\n        ...change\n    };\n};\n","\nimport Local, { Language } from '../utils/Language';\nimport Logger from '../utils/Logger';\n\nimport Data from '../data/questions.json';\n\nclass Questions {\n    question_order = Data.order;\n\n    localized_data = null;\n    english_data = null;\n\n    validAnswer(qcode, letter) {\n        if (!(qcode in Data.spec)) {\n            return false;\n        }\n        for (const answer of Data.spec[qcode].answers) {\n            if (answer.letter === letter) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    getAnswerLetters(qcode) {\n        if (!(qcode in Data.spec)) {\n            return [];\n        }\n        let letters = [];\n        for (const answer of Data.spec[qcode].answers) {\n            letters.push(answer.letter);\n        }\n        return letters;\n    }\n\n    filterAnswers(answerKey) {\n        let answers = {};\n        for (const qcode of this.question_order) {\n            if (this.validAnswer(qcode, answerKey[qcode])) {\n                answers[qcode] = answerKey[qcode];\n            }\n        }\n        return answers;\n    }\n\n    count() {\n        return this.question_order.length;\n    }\n\n    getCodeByStep(step) {\n        if (typeof this.question_order[step] === 'undefined') {\n            return null;\n        }\n        return this.question_order[step];\n    }\n\n    // spec looks like this:\n    // {\n    //   q: the full question,\n    //   t: the short title,\n    //   a: the answers, as: {\n    //     'A': the first answer,\n    //     'B': the second answer, ... etc\n    //   },\n    //   layout: 'vert' or 'horiz',\n    //   help: any help text (optional),\n    // }\n    getLocalSpec(qcode) {\n        if (this.localized_data === null) {\n            this.loadLocalizedData();\n        }\n        if (typeof this.localized_data[qcode] === 'undefined') {\n            return null;\n        }\n        return this.localized_data[qcode];\n    }\n\n    getEnglishSpec(qcode) {\n        if (this.english_data === null) {\n            this.loadEnglishData();\n        }\n        if (typeof this.english_data[qcode] === 'undefined') {\n            return null;\n        }\n        return this.english_data[qcode];\n    }\n\n    getEnglishAnswers(answerKey) {\n        if (this.english_data === null) {\n            this.loadEnglishData();\n        }\n        let english_answers = {};\n        for (const qcode of this.question_order) {\n            const letter = answerKey[qcode];\n            const answer = this.english_data[qcode].answers[letter];\n            english_answers[qcode] = answer.toUpperCase();\n        }\n        return english_answers;\n    }\n\n    getLocalConfirmation(answerKey) {\n        if (this.localized_data === null) {\n            this.loadLocalizedData();\n        }\n        let confirmation = [];\n        for (const qcode of this.question_order) {\n            const aspec = this.localized_data[qcode].answers;\n            let answers = [];\n            let selected = null;\n            for (const letter of Object.keys(aspec).sort()) {\n                let answer = {\n                    letter: letter,\n                    text: aspec[letter]\n                };\n                if (letter === answerKey[qcode]) {\n                    selected = { ...answer };\n                }\n                answers.push(answer);\n            }\n            confirmation.push({\n                code: qcode,\n                text: this.localized_data[qcode].question,\n                help: this.localized_data[qcode].help,\n                layout: this.localized_data[qcode].layout,\n                answers: answers,\n                selected: selected\n            });\n        }\n        return confirmation;\n    }\n\n    loadLocalizedData() {\n        this.localized_data = this.getData(Local);\n    }\n\n    loadEnglishData() {\n        if (Local.language_code === 'en') {\n            if (this.localized_data === null) {\n                this.loadLocalizedData();\n            }\n            this.english_data = this.localized_data;\n        } else {\n            const English = new Language('en');\n            this.english_data = this.getData(English);\n        }\n    }\n\n    getData(LangObj) {\n        let data = {};\n        for (let name of this.question_order) {\n            data[name] = {\n                question: LangObj.get(Data.spec[name].full_lang_key),\n                title: LangObj.get(Data.spec[name].title_lang_key),\n                layout: Data.spec[name].layout,\n                answers: {}\n            }\n            for (const answer of Data.spec[name].answers) {\n                data[name].answers[answer.letter] = LangObj.get(answer.lang_key);\n            }\n            if (Data.spec[name].help) {\n                data[name].help = LangObj.get(Data.spec[name].help_lang_key);\n            }\n        }\n        return data;\n    }\n\n    firstMissingStep(answers) {\n        let ready = true;\n        let started = false;\n        let step = 0;\n        for (const qcode of this.question_order) {\n            if (typeof answers[qcode] === 'undefined') {\n                Logger.debug('Missing step: undefined question code ' + qcode, { answers: answers });\n                ready = false;\n                break;\n            } else {\n                started = true;\n            }\n            const letter = answers[qcode];\n            if (!this.validAnswer(qcode, letter)) {\n                Logger.warn('Missing step: undefined answer letter ' + letter, { q_code: qcode, answers: answers });\n                ready = false;\n                break;\n            }\n            ++step;\n        }\n        if (!ready) {\n            if (started) {\n                return step;\n            } else {\n                return 0;\n            }\n        }\n        return null;\n    }\n\n}\n\nexport default new Questions();\n","import CookieBase from '../CookieBase';\n\nimport Questions from '../../logic/Questions';\n\nlet answersCookieFilter = (cookieobj) => {\n    return Questions.filterAnswers(cookieobj);\n};\n\nconst answersCookie = new CookieBase(\n    'hnct-answers', // name\n    {\n        path: '/',\n        sameSite: 'Strict'\n    }, // spec\n    true, // compressed\n    answersCookieFilter // filter function\n);\n\nexport default answersCookie;\n","import * as actionTypes from './actionTypes';\nimport { updateObject} from '../utility';\nimport AnswersCookie from '../../cookies/AnswersCookie';\nimport Questions from '../../../logic/Questions';\nimport VisitorPrefs from '../../../logic/VisitorPrefs';\nimport Logger from '../../../utils/Logger';\n\nexport const toolCookiesLoaded = (visitorId, prefs, answers) => {\n    return {\n        type: actionTypes.TOOL_COOKIES_LOADED,\n        visitor_id: visitorId,\n        visitor_prefs: prefs,\n        answers: answers\n    };\n};\n\nexport const toolCookiesLoadFailed = (error) => {\n    return {\n        type: actionTypes.TOOL_COOKIES_LOAD_FAILED,\n        error: error\n    };\n};\n\nexport const loadToolData = () => {\n    return dispatch => {\n        let found = VisitorPrefs.fetchFromCookie();\n        if (found.error) {\n            dispatch(toolCookiesLoadFailed(found.error));\n        } else {\n            let answers = AnswersCookie.get();\n            if (!answers) {\n                answers = {};\n            }\n            dispatch(toolCookiesLoaded(found.id, found.prefs, answers));\n        }\n    };\n};\n\nexport const answersClear = () => {\n    AnswersCookie.set({});\n    return {\n        type: actionTypes.ANSWERS_CLEAR\n    };\n};\n\nexport const questionInit = (step) => {\n    return {\n        type: actionTypes.QUESTION_INIT,\n        step: step\n    };\n};\n\nexport const answersPushStarted = () => {\n    return {\n        type: actionTypes.ANSWERS_PUSH_STARTED\n    };\n};\n\nexport const answersPushCompleted = (answers) => {\n    return {\n        type: actionTypes.ANSWERS_PUSH_COMPLETED,\n        answers: answers\n    };\n};\n\nexport const answersPushFailed = () => {\n    return {\n        type: actionTypes.ANSWERS_PUSH_FAILED\n    };\n};\n\nexport const answerPush = (qcode, letter) => {\n    if (!Questions.validAnswer(qcode, letter)) {\n        Logger.warn('Request to push unknown question/answer pair ' + qcode + '/' + letter);\n        return (dispatch, getState) => {\n            dispatch(answersPushFailed());\n        };\n    }\n    return (dispatch, getState) => {\n        dispatch(answersPushStarted());\n        let newAnswers = updateObject(getState().answers, { [qcode]: letter });\n        AnswersCookie.set(newAnswers);\n        dispatch(answersPushCompleted(newAnswers));\n    };\n};\n\nexport const answersUpdateStarted = () => {\n    return {\n        type: actionTypes.ANSWERS_UPDATE_STARTED\n    };\n};\n\nexport const answersUpdateCompleted = (answers) => {\n    return {\n        type: actionTypes.ANSWERS_UPDATE_COMPLETED,\n        answers: answers\n    };\n};\n\nexport const answersUpdateFailed = () => {\n    return {\n        type: actionTypes.ANSWERS_UPDATE_FAILED\n    };\n};\n\nexport const answerSave = (qcode, letter) => {\n    if (!Questions.validAnswer(qcode, letter)) {\n        Logger.warn('Request to save unknown question/answer pair ' + qcode + '/' + letter);\n        return (dispatch, getState) => {\n            dispatch(answersUpdateFailed());\n        };\n    }\n    return (dispatch, getState) => {\n        dispatch(answersUpdateStarted());\n        let newAnswers = updateObject(getState().answers, { [qcode]: letter });\n        AnswersCookie.set(newAnswers);\n        dispatch(answersUpdateCompleted(newAnswers));\n    };\n};\n\nexport const visitorPrefsStored = (prefs) => {\n    return {\n        type: actionTypes.VISITOR_PREFS_STORED,\n        visitor_prefs: prefs\n    };\n};\n\nexport const cookiePrefsSave = (prefs) => {\n    return dispatch => {\n        let stored = VisitorPrefs.save(prefs);\n        dispatch(visitorPrefsStored(stored));\n    };\n};\n\n","export const TOOL_COOKIES_LOADED = 'TOOL_COOKIES_LOADED';\nexport const TOOL_COOKIES_LOAD_FAILED = 'TOOL_COOKIES_LOAD_FAILED';\nexport const ANSWERS_CLEAR = 'ANSWERS_CLEAR';\nexport const QUESTION_INIT = 'QUESTION_INIT';\nexport const ANSWERS_UPDATE_STARTED = 'ANSWERS_UPDATE_STARTED';\nexport const ANSWERS_UPDATE_COMPLETED = 'ANSWERS_UPDATE_COMPLETED';\nexport const ANSWERS_UPDATE_FAILED = 'ANSWERS_UPDATE_FAILED';\nexport const ANSWERS_PUSH_STARTED = 'ANSWERS_PUSH_STARTED';\nexport const ANSWERS_PUSH_COMPLETED = 'ANSWERS_PUSH_COMPLETED';\nexport const ANSWERS_PUSH_FAILED = 'ANSWERS_PUSH_FAILED';\nexport const VISITOR_PREFS_STORED = 'VISITOR_PREFS_STORED';\n\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport Intro from '../../../components/BenefitsTool/Intro/Intro';\nimport Language from '../../../utils/Language';\nimport Api from '../../../storage/Api';\nimport Logger from '../../../utils/Logger';\nimport * as actions from '../../../storage/redux/actions/index';\n\nclass Landing extends Component {\n\n    state = {\n        error: false\n    };\n\n    startQuiz = () => {\n        this.setState({ error: false });\n        Api.bumpSession(this.props.visitor_id, () => {\n                this.goToQuiz();\n            },\n            () => {\n                this.errorOrMoveOn();\n            });\n    };\n\n    errorOrMoveOn() {\n        // These are alert-level errors for me the programmer, but not\n        // for the user -- if the API is malfunctioning, let's give it\n        // one chance to get over a hiccup, then send them on to the\n        // quiz page without getting a token to record their answers\n        this.setState((current) => {\n            if (current.error) {\n                this.goToQuiz();\n                return { error: false };\n            } else {\n                return { error: true };\n            }\n        });\n    }\n\n    goToQuiz() {\n        this.setState({ error: false }, () => {\n            this.props.clearAnswers();\n            this.props.history.push('/quiz');\n        });\n    }\n\n    componentDidMount() {\n        Logger.setComponent('BenefitsTool/Landing');\n    }\n\n    render() {\n        Logger.setComponent('BenefitsTool/Landing');\n        const lang = {\n            header: Language.get('landing_header'),\n            message: Language.get('landing_message'),\n            error_msg: Language.get('landing_error'),\n            disclaimer_link: Language.get('landing_disclaimer_link'),\n            disclaimer_title: Language.get('landing_disclaimer_title')\n        };\n\n        return <Intro\n            error={this.state.error ? lang.error_msg : null}\n            clicked={this.startQuiz}\n            lang={lang} />;\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        visitor_id: state.visitor_id\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        clearAnswers: () => dispatch(actions.answersClear())\n    };\n};\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Landing));\n","import React from 'react';\n\nimport './StepCounter.css';\n\nconst stepCounter = (props) => {\n\n    let bullets = [];\n    for (let i = 0; i < props.steps.length; ++i) {\n        let step = props.steps[i];\n        let className = 'Bullet';\n        if (props.currentStep < i) {\n            className += ' Unvisited';\n        } else if (props.currentStep === i) {\n            className += ' Current';\n        } else {\n            className += ' Visited';\n        }\n        if (typeof(step.clicked) === 'function') {\n            className += ' Clickable';\n        }\n        bullets.push(<li key={step.title}\n            className={className}\n            title={step.title}\n            onClick={step.clicked}>&middot;</li>);\n    }\n\n    return (\n        <div className=\"StepCounter\">\n            <ul>\n                {bullets}\n            </ul>\n        </div>\n    );\n};\n\nexport default stepCounter;\n","import React from 'react';\n\nimport './Question.css';\n\nconst question = (props) => {\n    return (\n        <div className=\"Question\">\n            <h2 className=\"QuestionHeader\">{props.questionText}</h2>\n\n            {props.helpText ? <p className=\"Help\" dangerouslySetInnerHTML={{__html: props.helpText}}></p> : null}\n        </div>\n    );\n};\n\nexport default question;\n","import React, { Component } from 'react';\nimport { Redirect, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport StepCounter from '../../../components/BenefitsTool/StepCounter/StepCounter';\nimport Question from '../../../components/BenefitsTool/Question/Question';\nimport Controls from '../../../components/UI/Controls/Controls';\nimport Logger from '../../../utils/Logger';\nimport Language from '../../../utils/Language';\nimport Api from '../../../storage/Api';\nimport * as actions from '../../../storage/redux/actions/index';\n\nimport Questions from '../../../logic/Questions';\n\nclass Quiz extends Component {\n\n    clickAnswer = (letter) => {\n        const qcode = Questions.getCodeByStep(this.currentStep());\n        this.props.saveAnswer(qcode, letter);\n    };\n\n    goBack = () => {\n        // NB: the urls are 1-indexed, so the current step in 0-index form is\n        // actually back by one\n        let newStep = this.currentUrlStep() - 1;\n        if (newStep < 1) {\n            newStep = 0;\n            Logger.err('Request to go back before step 1');\n        }\n        this.props.history.push('/quiz/' + newStep);\n    };\n\n    goToStep = (stepNum) => {\n        if (stepNum < 1 || stepNum > Questions.count()) {\n            Logger.warn('Event request to go to an out-of-bounds step', { step: stepNum });\n            return;\n        }\n        this.props.history.push('/quiz/' + stepNum);\n    };\n\n    cancelQuiz = () => {\n        this.props.history.push('/');\n    };\n\n    restartQuiz = () => {\n        this.props.history.push('/quiz/1');\n    };\n\n    componentDidMount() {\n        Logger.setComponent('BenefitsTool/Quiz');\n        Api.bumpSession(this.props.visitor_id);\n    }\n\n    currentStep() {\n        let current = 0;\n        if (this.props.match.params.step) {\n            let test = parseInt(this.props.match.params.step);\n            if (!isNaN(test) && test > 0 && test <= Questions.count()) {\n                current = test - 1;\n            } else {\n                Logger.warn('URL request to go to an out-of-bounds step', { step: this.props.match.params.step });\n            }\n        }\n        return current;\n    }\n\n    currentUrlStep() {\n        return this.currentStep() + 1;\n    }\n\n    render() {\n        Logger.setComponent('BenefitsTool/Quiz');\n\n        const lang = {\n            error_message: Language.get('quiz_save_failed_error'),\n            back_link_text: Language.get('quiz_back_link_text'),\n            restart_link_text: Language.get('util_restart_link_text'),\n            cancel_link_text: Language.get('quiz_cancel_link_text'),\n        };\n\n        // Steps\n        let steps = [];\n        const stepCount = Questions.count();\n        for (let i = 0; i < stepCount; ++i) {\n            const qcode = Questions.getCodeByStep(i);\n            const qspec = Questions.getLocalSpec(qcode);\n            let step = {\n                title: qspec.title,\n                target: i,\n            };\n            if (typeof(this.props.answers[qcode]) !== 'undefined') {\n                step.clicked = () => { this.goToStep(i + 1); };\n            }\n            steps.push(step);\n        }\n\n        // Question\n        let qcode = Questions.getCodeByStep(this.currentStep());\n        if (typeof qcode !== 'string') {\n            qcode = Questions.getCodeByStep(0);\n        }\n        const qspec = Questions.getLocalSpec(qcode);\n\n        // Answers\n        const answerButtons = Object.keys(qspec.answers).sort()\n            .map((aKey) => {\n                let classNames = [ 'AnswerButton' ];\n                if (typeof this.props.answers[qcode] != 'undefined') {\n                    if (this.props.answers[qcode] === aKey) {\n                        classNames.push('Selected');\n                    }\n                }\n                return {\n                    key: aKey,\n                    classNames: classNames,\n                    clicked: () => { this.clickAnswer(aKey); },\n                    text: qspec.answers[aKey]\n                };\n            });\n\n        // Links\n        let links = [];\n        if (this.currentStep() > 0) {\n            links.push({\n                classNames: [ 'BackLink' ],\n                clicked: this.goBack,\n                text: lang.back_link_text\n            });\n            links.push({\n                classNames: [ 'RestartLink' ],\n                clicked: this.restartQuiz,\n                text: lang.restart_link_text\n            });\n        } else {\n            links.push({\n                classNames: [ 'CancelLink' ],\n                clicked: this.cancelQuiz,\n                text: lang.cancel_link_text\n            });\n        }\n\n        let message = null;\n        if (this.props.has_error) {\n            message = lang.error_message;\n        }\n\n        let redirect = null;\n        if (this.props.step_saved) {\n            if (this.currentStep() + 1 >= Questions.count()) {\n                redirect = <Redirect push to=\"/confirm\" />;\n            } else {\n                const newStep = this.currentUrlStep() + 1;\n                const newPath = '/quiz/' + newStep;\n                redirect = <Redirect push to={newPath} />;\n            }\n            this.props.initQuestion();\n        }\n\n        return (\n            <div className=\"Quiz\">\n                {redirect}\n                <StepCounter\n                    steps={steps}\n                    currentStep={this.currentStep()} />\n                <Question\n                    questionText={qspec.question}\n                    helpText={qspec.help} />\n                <Controls\n                    errorMessage={message}\n                    buttonLayout={qspec.layout}\n                    buttons={answerButtons}\n                    links={links} />\n            </div>\n        );\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        visitor_id: state.visitor_id,\n        answers: state.answers,\n        has_error: state.answers_push_error,\n        step_saved: state.step_saved\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        initQuestion: (step) => dispatch(actions.questionInit(step)),\n        saveAnswer: (qcode, letter) => dispatch(actions.answerPush(qcode, letter))\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Quiz));\n","import React from 'react';\n\nconst viewAnswer = (props) => {\n    return (\n        <div className=\"AnswerConfirm\">\n            <span className=\"SelectedAnswer\">{props.selectedAnswer.text}</span>\n            <button\n                className=\"EditButton\"\n                title={props.lang.edit_title}\n                onClick={props.clickedEdit}>\n                <i className=\"fas fa-pencil-alt\" title={props.lang.edit_alt}></i>\n            </button>\n        </div>\n    );\n}\n\nexport default viewAnswer;\n","import React from 'react';\n\nimport Controls from '../../../UI/Controls/Controls';\n\nconst editAnswer = (props) => {\n    const abuttons = props.answers\n        .map((answer) => {\n            let btn = {\n                key: answer.letter,\n                classNames: [ 'AnswerButton' ],\n                text: answer.text,\n                clicked: answer.clicked\n            };\n            if (answer.letter === props.selectedAnswer.letter) {\n                btn.classNames.push('Selected');\n            }\n            return btn;\n        });\n\n    return (\n        <div className=\"AnswerEdit\">\n            <button className=\"CancelButton\"\n                title={props.lang.cancel_title}\n                onClick={props.clickedCancel}>\n                <i className=\"fas fa-times\" title={props.lang.cancel_alt}></i>\n            </button>\n            <Controls\n                buttons={abuttons}\n                buttonLayout={props.layout} />\n        </div>\n    );\n}\n\nexport default editAnswer;\n","import React from 'react';\n\nimport ViewAnswer from './ViewAnswer/ViewAnswer';\nimport EditAnswer from './EditAnswer/EditAnswer';\n\nimport './AnswerList.css';\n\nconst answerList = (props) => {\n\n    const answerList = props.questions\n        .map((question) => {\n            let answerBlock = null;\n            if (question.isEditing) {\n                answerBlock = <EditAnswer\n                    lang={props.lang}\n                    answers={question.answers}\n                    selectedAnswer={question.selected}\n                    clickedCancel={question.clickedCancel}\n                    layout={question.layout} />;\n            } else {\n                answerBlock = <ViewAnswer\n                    lang={props.lang}\n                    selectedAnswer={question.selected}\n                    clickedEdit={question.clickedEdit} />\n            }\n            return (\n                <li key={question.code}>\n                    <div className=\"QuestionConfirm\">{question.text}</div>\n                    {answerBlock}\n                </li>\n            );\n        });\n\n    return (\n        <div className=\"Answers\">\n            <h3 className=\"AnswersHeader\">{props.lang.header}</h3>\n            <ul>\n                {answerList}\n            </ul>\n        </div>\n    );\n\n}\n\nexport default answerList;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport AnswerList from '../../../../components/BenefitsTool/AnswerList/AnswerList';\nimport * as actions from '../../../../storage/redux/actions/index';\n\nimport Questions from '../../../../logic/Questions';\n\nclass EditAnswers extends Component {\n\n    state = {\n        editingAnswer: null\n    };\n\n    startEdit(question) {\n        this.setState({ editingAnswer: question });\n    }\n\n    cancelEdit(question) {\n        this.setState({ editingAnswer: null });\n    }\n\n    saveEdit(question, letter) {\n        this.props.saveAnswer(question, letter);\n        this.setState({ editingAnswer: null });\n    }\n\n    render() {\n        let questions = Questions.getLocalConfirmation(this.props.answers)\n            .map(question => {\n                let answers = question.answers.map(answer => {\n                    return { ...answer, \n                        clicked: () => this.saveEdit(question.code, answer.letter)\n                    };\n                });\n                return { ...question,\n                    answers: answers,\n                    isEditing: this.state.editingAnswer === question.code,\n                    clickedCancel: () => this.cancelEdit(question.code),\n                    clickedEdit: () => this.startEdit(question.code),\n                };\n            });\n        return <AnswerList questions={questions} lang={this.props.lang} />;\n    };\n}\n\nconst mapStateToProps = state => {\n    return {\n        answers: state.answers\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        saveAnswer: (qcode, letter) => dispatch(actions.answerPush(qcode, letter))\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditAnswers);\n","import React from 'react';\n\nimport './ContactInfo.css';\n\nconst contactInfo = (props) => {\n    return (\n        <div className=\"ContactInfo\">\n            <h3>{props.lang.header}</h3>\n            <div className=\"invitation\" dangerouslySetInnerHTML={{__html: props.lang.invitation}}></div>\n            <form method=\"post\" onSubmit={(e) => e.preventDefault()}>\n                <label>{props.lang.email_label}</label>\n                {props.emailError ?\n                    <div className=\"Error\">{props.lang.email_error}</div>\n                : null}\n                <input type=\"text\" name=\"email\" value={props.email} onChange={props.emailChanged} autoComplete=\"email\" />\n                <label>{props.lang.zip_label}</label>\n                {props.zipError ?\n                   <div className=\"Error\">{props.lang.zip_error}</div>\n                : null}\n                <input type=\"zip\" name=\"zip\" value={props.zip} onChange={props.zipChanged} autoComplete=\"current-zip\" />\n            </form>\n        </div>\n    );\n}\n\nexport default contactInfo;\n","import React, { Component } from 'react';\nimport { Redirect, withRouter } from 'react-router-dom';\nimport * as EmailValidator from 'email-validator';\nimport { connect } from 'react-redux';\n\nimport EditAnswers from './EditAnswers/EditAnswers';\nimport ContactInfo from '../../../components/BenefitsTool/ContactInfo/ContactInfo';\nimport Controls from '../../../components/UI/Controls/Controls';\nimport Api from '../../../storage/Api';\nimport Logger from '../../../utils/Logger';\nimport Language from '../../../utils/Language';\nimport IdentifierCookie from '../../../storage/cookies/IdentifierCookie';\n\nimport Questions from '../../../logic/Questions';\n\nclass Confirmation extends Component {\n\n    state = {\n        loading: false,\n        email: '',\n        zip: '',\n        emailError: false,\n        zipError: false,\n        saveError: false,\n        contactValidOrEmpty: true,\n        hasRecordingError: false\n    };\n\n    lang = null;\n\n    regexValidZip = /^[0-9]{5}(?:-[0-9]{4})?$/;\n\n    changeEmail = (e) => {\n        let val = e.target.value;\n        this.setState(() => {\n            let newstate = { email: val };\n            if (val !== '' && !EmailValidator.validate(val)) {\n                newstate.emailError = true;\n            } else {\n                newstate.emailError = false;\n            }\n            if (val !== '') {\n                if (this.state.zip === '') {\n                    newstate.zipError = true;\n                }\n            } else {\n                if (this.state.zip === '') {\n                    newstate.zipError = false;\n                }\n            }\n            return newstate;\n        }, () => this.okToSubmitContact());\n    };\n\n    changeZip = (e) => {\n        let val = e.target.value;\n        this.setState(() => {\n            let newstate = { zip: val };\n            if (val === '' && this.state.email !== '') {\n                newstate.zipError = true;\n            } else if (val !== '' && !this.regexValidZip.test(val)) {\n                newstate.zipError = true;\n            } else {\n                newstate.zipError = false;\n            }\n            return newstate;\n        }, () => this.okToSubmitContact());\n    };\n\n    confirmAnswers = () => {\n        const data = {\n            token: IdentifierCookie.get(),\n            visitor_id: this.props.visitor_id,\n            answers: Questions.getEnglishAnswers(this.props.answers)\n        };\n        if (this.state.email.trim() !== '') {\n            data.contact = {\n                email: this.state.email.trim()\n            };\n            if (this.state.zip.trim() !== '') {\n                data.contact.zip = this.state.zip.trim();\n            }\n        }\n        this.setState({ loading: true });\n        Api.recordResponse(data)\n            .then(response => {\n                IdentifierCookie.remove();\n                this.setState({ loading: false });\n                this.props.history.push('/results');\n            })\n            .catch(error => {\n                if (!error.isAxiosError) {\n                    throw error;\n                }\n                // This is an alert-level error for me the programmer, but not\n                // for the user -- if the API is malfunctioning, let's give it\n                // one chance to get over a hiccup, then send them on to the\n                // results page without recording anything\n                Logger.alert('Could not record response', { api_error: Api.parseAxiosError(error) });\n                this.setState((current) => {\n                    if (this.state.hasRecordingError) {\n                        IdentifierCookie.remove();\n                        this.props.history.push('/results');\n                        return { loading: false, hasRecordingError: false };\n                    } else {\n                        return { loading: false, hasRecordingError: true };\n                    }\n                });\n            });\n    };\n\n    componentDidMount() {\n        Logger.setComponent('BenefitsTool/Confirmation');\n        Api.bumpSession(this.props.visitor_id);\n    }\n\n    okToSubmitContact() {\n        let validOrEmpty = null;\n        if (this.state.email === '' && this.state.zip === '') {\n            validOrEmpty = true;\n        } else if (this.state.email === '' || this.state.zip === '') {\n            validOrEmpty = false;\n        } else {\n            if (this.state.emailError || this.state.zipError) {\n                validOrEmpty = false;\n            } else {\n                validOrEmpty = true;\n            }\n        }\n        this.setState({ contactValidOrEmpty: validOrEmpty });\n    }\n\n    render() {\n        Logger.setComponent('BenefitsTool/Confirmation');\n\n        const lang = {\n            edit_answers: {\n                header: Language.get('confirm_answerlist_header'),\n                cancel_title: Language.get('confirm_answerlist_cancel_edit_link_title'),\n                cancel_alt: Language.get('util_cancel_alt_text'),\n                edit_title: Language.get('confirm_answerlist_edit_link_title'),\n                edit_alt: Language.get('confirm_answerlist_edit_link_title'),\n            },\n            contact: {\n                header: Language.get('confirm_contact_header'),\n                invitation: Language.get('confirm_contact_invitation'),\n                email_label: Language.get('confirm_contact_email_label'),\n                email_error: Language.get('confirm_contact_email_error'),\n                zip_label: Language.get('confirm_contact_zip_label'),\n                zip_error: Language.get('confirm_contact_zip_error')\n            },\n            controls: {\n                confirm_button: Language.get('confirm_button_text'),\n                restart_link: Language.get('confirm_restart_link_text'),\n                recording_error: Language.get('confirm_recording_error')\n            }\n        };\n\n        const step = Questions.firstMissingStep(this.props.answers);\n        if (step !== null) {\n            const goto = step < 1 ? '/' : '/quiz/' + step;\n            return <Redirect to={goto} />;\n        }\n\n        const buttons = [\n            {\n                classNames: [ 'ConfirmButton' ],\n                clicked: this.confirmAnswers,\n                text: lang.controls.confirm_button\n            }\n        ];\n        if (this.state.loading || !this.state.contactValidOrEmpty) {\n            buttons[0].disabled = true;\n        }\n        const links = [\n            {\n                classNames: [ 'RestartLink' ],\n                clicked: () => { this.props.history.push('/') },\n                text: lang.controls.restart_link\n            }\n        ];\n\n        return (\n            <div className=\"Confirmation\">\n                <EditAnswers lang={lang.edit_answers} />\n                <ContactInfo\n                    emailError={this.state.emailError}\n                    zipError={this.state.zipError}\n                    email={this.state.email}\n                    zip={this.state.zip}\n                    emailChanged={this.changeEmail}\n                    zipChanged={this.changeZip}\n                    lang={lang.contact} />\n                <Controls\n                    errorMessage={this.state.hasRecordingError ? lang.controls.recording_error : null}\n                    buttons={buttons}\n                    links={links} />\n            </div>\n        );\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        visitor_id: state.visitor_id,\n        answers: state.answers\n    };\n};\n\nexport default connect(mapStateToProps)(withRouter(Confirmation));\n","import React from 'react';\n\nconst linkList = (props) => {\n    let i = 0;\n    const links = props.links.map(link => {\n        let elem = null;\n        if (link.sameSite) {\n            elem = <a href={link.link}>{link.text}</a>\n        } else {\n            elem = <a href={link.link} target=\"_blank\" rel=\"noopener noreferrer\">{link.text}</a>\n        }\n        ++i;\n        return (\n            <li key={i}>\n                {elem}\n                {link.description ?\n                    <p class=\"LinkDescription\">{link.description}</p>\n                : null}\n            </li>\n        );\n    });\n    return (\n        <div className=\"LinkList\">\n            {props.header ?\n                <h5>{props.header}</h5>\n            : null}\n            <ul>\n                {links}\n            </ul>\n        </div>\n    );\n};\n\nexport default linkList;\n","import React, { useState } from 'react';\n\nimport LinkList from '../LinkList/LinkList';\nimport IconButton from '../IconButton/IconButton';\n\nimport './ExpandedSection.css';\n\nconst ExpandedSection = (props) => {\n    const [expanded, setExpanded] = useState(false);\n    let readmore_link = null;\n    let expanded_block = null;\n    let classes = [ 'ExpandedSection' ];\n\n    if (props.read_more) {\n        classes.push('ReadMore');\n        let more_classes = [ 'MoreBlock' ];\n\n        const doExpand = (e) => {\n            e.preventDefault();\n            setExpanded(true);\n        };\n\n        const doCollapse = (e) => {\n            e.preventDefault();\n            setExpanded(false);\n        };\n\n        if (expanded) {\n            more_classes.push('ExpandedMore');\n            readmore_link = (\n                <div className=\"ReadLessLink\">\n                    <IconButton\n                        icon=\"fas fa-arrow-circle-up\"\n                        title={props.lang.read_less}\n                        append_text={props.lang.read_less}\n                        clicked={doCollapse} />\n                </div>\n            );\n        } else {\n            more_classes.push('CollapsedMore');\n            readmore_link = (\n                <div className=\"ReadMoreLink\">\n                    <IconButton\n                        icon=\"fas fa-arrow-circle-down\"\n                        title={props.lang.read_more}\n                        append_text={props.lang.read_more}\n                        clicked={doExpand} />\n                </div>\n            );\n        }\n\n        expanded_block = (\n            <div className={more_classes.join(' ')}>\n                <div dangerouslySetInnerHTML={{__html: props.read_more}}></div>\n                {props.resources ?\n                    <LinkList header={props.resources_header} links={props.resources} />\n                : null}\n            </div>\n        );\n    }\n\n    if (props.add_class) {\n        classes.push(props.add_class);\n    }\n\n    return (\n        <div className={classes.join(' ')}>\n            {props.header ?\n                <h3 className=\"SectionHeader\">{props.header}</h3>\n            : null}\n            <div className=\"MainBlock\">\n                <div dangerouslySetInnerHTML={{__html: props.text}}></div>\n                {readmore_link}\n            </div>\n            {expanded_block}\n        </div>\n    );\n};\n\nexport default ExpandedSection;\n","import React from 'react';\n\nimport ExpandedSection from '../../UI/ExpandedSection/ExpandedSection';\nimport LinkList from '../../UI/LinkList/LinkList';\n\nimport './Response.css';\n\nconst response = (props) => {\n    let i = 0;\n    let answer = props.answerSections.map((section) => {\n        ++i;\n        return <ExpandedSection key={i}\n            add_class={section.type === 'benefit' ? 'Benefit' : ''}\n            lang={props.lang}\n            {...section} />;\n    });\n    let resourceBlock = null;\n    if (props.resources.length > 0) {\n        resourceBlock = (\n            <div className=\"Resources\">\n                <h3>{props.resources_header}</h3>\n                {props.resources_intro ? (\n                <div className=\"ResourcesIntro\" dangerouslySetInnerHTML={{__html: props.resources_intro}}></div>\n                ) : null}\n                <LinkList links={props.resources} />\n            </div>\n        );\n    }\n    return (\n        <div className=\"Response\">\n            <h2>{props.header}</h2>\n            {answer}\n            {resourceBlock}\n        </div>\n    );\n};\n\nexport default response;\n","\nimport ConditionsData from '../../data/conditions.json';\n\nclass Screening {\n\n    conditions = ConditionsData;\n\n    firstPass = {\n\n        simple: (answers, key) => {\n            return answers[key];\n        },\n\n        splitTypeByEssential: (answers, key) => {\n            if (answers.type === 'D') {\n                return 'E';\n            } else {\n                return 'N';\n            }\n        },\n\n        splitBooksByTaxes: (answers, key) => {\n            if (answers.books === 'A' || answers.books === 'B') {\n                return 'Y';\n            } else {\n                return 'N';\n            }\n        },\n\n        splitBooksByCompliance: (answers, key) => {\n            if (answers.books === 'A') {\n                return 'C';\n            } else {\n                return 'N';\n            }\n        },\n\n        splitLengthByYear: (answers, key) => {\n            if (answers['length of employment'] === 'C') {\n                return 'O';\n            } else {\n                return 'U';\n            }\n        },\n\n        splitLengthByMonths: (answers, key) => {\n            if (answers['length of employment'] === 'A') {\n                return 'U';\n            } else {\n                return 'O';\n            }\n        },\n\n        employedByYearAndHours: (answers, key) => {\n            if (answers['length of employment'] === 'C'\n                && answers['hours per year'] === 'B') {\n                return 'O';\n            } else {\n                return 'U';\n            }\n        },\n\n        // The hours-worked requirements for NYS are simple for domestic workers\n        // employed directly, but complicated for agencies, so we want to\n        // collapse this to something simple rather than checking agency vs not\n        // AND the time requirements.  The options are:\n        // * agency + any [A]\n        // * non-agency + 40+/week + 6+ months [E]\n        // * non-agency + anything else [N]\n        workForNYS: (answers, key) => {\n            if (answers['agency'] === 'A') {\n                return 'A';\n            }\n            if (\n                answers['hours per week'] === 'B' &&\n                (\n                    answers['length of employment'] === 'B' ||\n                    answers['length of employment'] === 'C'\n                )\n            ) {\n                return 'Y';\n            } else {\n                return 'N';\n            }\n        },\n\n        // For FFCRA, reasons break down as--\n        // * self-quarantine + school closed + any [B]\n        // * self-quarantine + any (but not school closed) [Q]\n        // * school closed + any (but not self-quarantine) [S]\n        // * family quarantine and/or stay at home [F]\n        // * none [N]\n        // * unhandled case [U] (shouldn't happen)\n        findReasonForFFCRA: (answers, key, rolling) => {\n            if (\n                answers['self-quarantine'] === 'A' &&\n                answers['school closed'] === 'A'\n            ) {\n                return 'B';\n            }\n            if (answers['self-quarantine'] === 'A') {\n                return 'Q';\n            }\n            if (answers['school closed'] === 'A') {\n                return 'S';\n            }\n            if (\n                answers['family quarantine'] === 'A' ||\n                answers['stay at home'] === 'A'\n            ) {\n                return 'F';\n            }\n            if (\n                answers['self-quarantine'] === 'B' &&\n                answers['family quarantine'] === 'B' &&\n                answers['stay at home'] === 'B' &&\n                answers['school closed'] === 'B'\n            ) {\n                return 'N';\n            }\n            return 'U';\n        },\n\n        // For NYS, reasons break down as--\n        // * self-quarantine + any [Q]\n        // * family quarantine + any [F]\n        // * any combination of the other options [N]\n        // * unhandled case [U] (shouldn't happen)\n        findReasonForNYS: (answers, key, rolling) => {\n            if (answers['self-quarantine'] === 'A') {\n                return 'Q';\n            }\n            if (answers['family quarantine'] === 'A') {\n                return 'F';\n            }\n            if (\n                answers['self-quarantine'] === 'B' &&\n                answers['family quarantine'] === 'B'\n            ) {\n                return 'N';\n            }\n            return 'U';\n        }\n\n    };\n\n    secondPass = {\n        simple: (answers, key, eligibility) => {\n            if (key in eligibility) {\n                return 'Y';\n            }\n            return 'N';\n        }\n    };\n\n    runFirstPass(answerKey) {\n        let byBenefit = {};\n        for (const benefit in this.conditions) {\n            let scenario = {};\n            for (const cond of this.conditions[benefit]) {\n                if (cond.pass !== 'first') {\n                    continue;\n                }\n                let k = cond.code;\n                let m = cond.method;\n                scenario[k] = this.firstPass[m](answerKey, k);\n            }\n            byBenefit[benefit] = scenario;\n        }\n        return byBenefit;\n    }\n\n    runSecondPass(answerKey, scenarios, eligibility) {\n        let newScenarios = {};\n        for (const benefit in this.conditions) {\n            let scenario = scenarios[benefit];\n            for (const cond of this.conditions[benefit]) {\n                if (cond.pass !== 'second') {\n                    continue;\n                }\n                let k = cond.code;\n                let m = cond.method;\n                scenario[k] = this.secondPass[m](answerKey, k, eligibility);\n            }\n            newScenarios[benefit] = scenario;\n        }\n        return newScenarios;\n    }\n\n}\n\nexport default new Screening();\n","\nimport ScenariosData from '../../data/scenarios.json';\n\nclass Eligibility {\n\n    eligibility = ScenariosData;\n\n    screen(scenarios) {\n        let eligibility = {};\n        for (let benefit in scenarios) {\n            let found = null;\n            const bdata = benefit in this.eligibility ? this.eligibility[benefit] : [];\n            for (let r of bdata) {\n                let match = true;\n                if (!r.enabled) {\n                    match = false;\n                } else {\n                    for (const c of Object.keys(r.conditions)) {\n                        if (scenarios[benefit][c] !== r.conditions[c]) {\n                            match = false;\n                        }\n                    }\n                }\n                if (match) {\n                    found = r;\n                    break;\n                }\n            }\n            if (found !== null) {\n                eligibility[benefit] = found;\n            }\n        }\n        return eligibility;\n    }\n\n}\n\nexport default new Eligibility();\n","\nimport Questions from '../Questions';\nimport Language from '../../utils/Language';\n\nclass ProcessText {\n\n    type_answer = null;\n    type_replacement = null;\n\n    setEmployeeType(typeAnswer) {\n        this.type_answer = typeAnswer;\n    }\n\n    findTypeReplacement() {\n        let r = Language.get('results_employee_type_unknown');\n        const letters = Questions.getAnswerLetters('type');\n        if (letters.includes(this.type_answer)) {\n            let k = 'results_employee_type_' + this.type_answer.toLowerCase();\n            let f = Language.get(k);\n            if (f) {\n                r = f;\n            }\n        }\n        this.type_replacement = r;\n    }\n\n    process(result_key) {\n        if (this.type_replacement === null) {\n            this.findTypeReplacement();\n        }\n        return Language.get(result_key, {\n            employee_type: this.type_replacement\n        });\n    }\n\n}\n\nexport default new ProcessText();\n","import Language from '../../utils/Language';\n\nimport ResourceData from '../../data/resources.json';\n\nclass Resources {\n\n    getBenefitResources(eligibility, benefit) {\n        const lang = Language.language_code;\n        let resources = [];\n        if (benefit in ResourceData.benefits) {\n            for (let r of ResourceData.benefits[benefit]) {\n                if (lang in r.link) {\n                    resources.push({\n                        text: r.text,\n                        link: r.link[lang]\n                    });\n                }\n            }\n        }\n        return resources;\n    }\n\n    getOtherResources() {\n        let resources = [];\n        const lang = Language.language_code;\n        for (let r of ResourceData.other) {\n            if (lang in r.link) {\n                resources.push({\n                    text: r.text,\n                    link: r.link[lang]\n                });\n            }\n        }\n        return resources;\n    }\n\n}\n\nexport default new Resources();\n","\nimport Screening from './results/Screening';\nimport Eligibility from './results/Eligibility';\nimport ProcessText from './results/ProcessText';\nimport Resources from './results/Resources';\nimport Language from '../utils/Language';\n\nimport BenefitsData from '../data/benefits.json';\n\nclass CollectResults {\n\n    benefits = BenefitsData;\n\n    compile(answerKey) {\n\n        // Calculate benefits\n        let scenarios = Screening.runFirstPass(answerKey);\n        let eligibility = Eligibility.screen(scenarios);\n        scenarios = Screening.runSecondPass(answerKey, scenarios, eligibility);\n        eligibility = Eligibility.screen(scenarios);\n\n        // Switch on employee type replacement\n        ProcessText.setEmployeeType(answerKey.type);\n\n        // Build text sections and resource links\n        let results = {\n            header: ProcessText.process('results_main_header'),\n            sections: this.getAllSections(eligibility, answerKey),\n            resources_header: ProcessText.process('results_resources_header'),\n            resources_intro: ProcessText.process('results_resources_intro'),\n            resources: this.getOtherResources(eligibility)\n        };\n\n        return results;\n    }\n\n    getAllSections(eligibility, answerKey) {\n        let sections = [];\n        \n        // Push all benfit responses into sections\n        const benefitSections = this.getBenefitSections(eligibility);\n\n        // If we found nothing, add the no-results text\n        if (benefitSections.length < 1) {\n            sections.push({\n                type: 'no_benefits',\n                header: null,\n                text: ProcessText.process('results_no_benefits')\n            });\n        }\n\n        // Otherwise, add an intro and the benefits\n        else {\n            sections.push({\n                header: null,\n                text: ProcessText.process('results_intro')\n            });\n            for (let section of benefitSections) {\n                sections.push(section);\n            }\n        }\n\n        // Do we need an on-the-books section?\n        let books = this.getBooksSection(answerKey);\n        if (books !== null) {\n            sections.push(books);\n        }\n\n        // Always add the retaliation warning section\n        sections.push({\n            type: 'warning',\n            header: ProcessText.process('results_retaliation_warning_header'),\n            text: ProcessText.process('results_retaliation_warning_text')\n        });\n\n        return sections;\n    }\n\n    getBenefitSections(eligibility) {\n        const benefitSections = [];\n        for (const benefit of this.benefits.order) {\n            const header = Language.get('results_section_header_' + benefit);\n            if (benefit in eligibility) {\n                const result = ProcessText.process(eligibility[benefit].lang_key_result);\n                const expanded = ProcessText.process(eligibility[benefit].lang_key_expanded);\n                const resources = Resources.getBenefitResources(eligibility, benefit);\n                let section = {\n                    type: 'benefit',\n                    header: header,\n                    text: result,\n                    read_more: expanded,\n                    resources_header: Language.get('results_section_resources_header'),\n                    resources: []\n                };\n                for (const r of resources) {\n                    section.resources.push({\n                        text: ProcessText.process(r.text),\n                        link: r.link\n                    });\n                }\n                benefitSections.push(section);\n            }\n        }\n        return benefitSections;\n    }\n\n    getBooksSection(answerKey) {\n        // totally in compliance; skip\n        if (answerKey.books === 'A') {\n            return null;\n        }\n\n        // partial compliance: message about insurance\n        if (answerKey.books === 'B') {\n            return {\n                header: ProcessText.process('results_off_the_books_partial_header'),\n                text: ProcessText.process('results_off_the_books_partial_text')\n            };\n        }\n\n        // no to on the books: message about getting on\n        return {\n            type: 'books',\n            header: ProcessText.process('results_off_the_books_header'),\n            text: ProcessText.process('results_off_the_books_text')\n        };\n    }\n\n    getOtherResources(eligibility) {\n        let links = [];\n        const resources = Resources.getOtherResources();\n        for (let r of resources) {\n            links.push({\n                text: ProcessText.process(r.text),\n                link: r.link\n            });\n        }\n        return links;\n    }\n\n}\n\nexport default new CollectResults();\n","import React, { Component } from 'react';\nimport { Redirect, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport Response from '../../../components/BenefitsTool/Response/Response';\nimport Controls from '../../../components/UI/Controls/Controls';\nimport CollectResults from '../../../logic/CollectResults';\nimport Language from '../../../utils/Language';\nimport Logger from '../../../utils/Logger';\n\nimport Questions from '../../../logic/Questions';\nimport CtaData from '../../../data/cta.json';\n\nconst CTA_TRACKING_CODE = '?utm_source=hih-covid-quiz';\n\nclass Results extends Component {\n\n    clickCTAButton = (link) => {\n        window.open(link + CTA_TRACKING_CODE, '_blank');\n    };\n\n    componentDidMount() {\n        Logger.setComponent('BenefitsTool/Results');\n        window.scrollTo(0, 0);\n    }\n\n    render() {\n        Logger.setComponent('BenefitsTool/Results');\n\n        const lang = {\n            restart_link_text: Language.get('util_restart_link_text'),\n            read_less: Language.get('util_read_less_link_text'),\n            read_more: Language.get('util_read_more_link_text')\n        };\n\n        const step = Questions.firstMissingStep(this.props.answers);\n        if (step !== null) {\n            const goto = step < 1 ? '/' : '/quiz/' + step;\n            return <Redirect to={goto} />;\n        }\n\n\n        const results = CollectResults.compile(this.props.answers);\n\n        let ctas = [];\n        if (CtaData.length > 3) {\n            for (let i = 0; i < 3; i++) {\n                const r = CtaData[Math.floor(Math.random() * CtaData.length)];\n                ctas.push(r);\n            }\n        } else {\n            ctas = CtaData;\n        }\n        const buttons = ctas.map((cta) => {\n            return {\n                classNames: [ 'CTAButton' ],\n                clicked: () => { this.clickCTAButton(cta.link); },\n                text: Language.get(cta.text),\n                title: Language.get(cta.title)\n            };\n        });\n\n        const links = [\n            {\n                classNames: [ 'RestartLink' ],\n                clicked: () => { this.props.history.push('/') },\n                text: lang.restart_link_text\n            }\n        ];\n\n        return (\n            <div className=\"Results\">\n                <Response\n                    header={results.header}\n                    answerSections={results.sections}\n                    resources_header={results.resources_header}\n                    resources_intro={results.resources_intro}\n                    resources={results.resources}\n                    lang={lang} />\n                <Controls\n                    buttons={buttons}\n                    links={links} />\n            </div>\n        );\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        answers: state.answers\n    };\n};\n\nexport default connect(mapStateToProps)(withRouter(Results));\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './Basic.css';\n\nconst basic = (props) => {\n\n    return (\n        <div>\n            <h2>{props.lang.header}</h2>\n\n            <div className=\"BasicBody\" dangerouslySetInnerHTML={{__html: props.lang.body}}></div>\n\n            {props.back ? (\n            <div className=\"BackLink\" title={props.lang.back_title}>\n                <Link to={props.back}>{props.lang.back_link}</Link>\n            </div>\n            ) : null }\n        </div>\n    );\n};\n\nexport default basic;\n","import React, { Component } from 'react';\n\nimport Basic from '../../../components/BenefitsTool/Basic/Basic';\nimport Language from '../../../utils/Language';\nimport Logger from '../../../utils/Logger';\n\nclass Disclaimer extends Component {\n\n    componentDidMount() {\n        Logger.setComponent('BenefitsTool/Disclaimer');\n    }\n\n    render() {\n        Logger.setComponent('BenefitsTool/Disclaimer');\n        const lang = {\n            header: Language.get('disclaimer_header'),\n            body: Language.get('disclaimer_text'),\n            back_link: Language.get('util_back_to_quiz'),\n            back_title: Language.get('util_back_to_quiz')\n        };\n        return (\n            <Basic lang={lang} back=\"/\" />\n        );\n    }\n}\n\nexport default Disclaimer;\n","import React, { Component } from 'react';\n\nimport Basic from '../../../components/BenefitsTool/Basic/Basic';\nimport Language from '../../../utils/Language';\nimport Logger from '../../../utils/Logger';\n\nclass PrivacyPolicy extends Component {\n\n    componentDidMount() {\n        Logger.setComponent('BenefitsTool/PrivacyPolicy');\n    }\n\n    render() {\n        Logger.setComponent('BenefitsTool/PrivacyPolicy');\n        const lang = {\n            header: Language.get('privacy_policy_header'),\n            body: Language.get('privacy_policy_text'),\n            back_link: Language.get('util_back_to_quiz'),\n            back_title: Language.get('util_back_to_quiz')\n        };\n        return (\n            <Basic lang={lang} back=\"/\" />\n        );\n    }\n}\n\nexport default PrivacyPolicy;\n","\nconst ALL_PIXELS = [\n    { method: \"facebook\", pref_setting: \"allow_cookies_thirdparty\" }\n];\n\nclass Pixels {\n\n    invoke(prefs) {\n        for (const pixel of ALL_PIXELS) {\n            if (prefs && prefs[pixel.pref_setting]) {\n                this[pixel.method]();\n            }\n        }\n    }\n\n    facebook() {\n        window.fbq('consent', 'grant');\n        window.fbq('track', 'ViewContent');\n    }\n\n}\n\nexport default new Pixels();\n","import React, { Component } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport Spinner from '../../components/UI/Spinner/Spinner';\nimport CookieNotice from '../../components/BenefitsTool/CookieNotice/CookieNotice';\nimport Landing from './Landing/Landing';\nimport Quiz from './Quiz/Quiz';\nimport Confirmation from './Confirmation/Confirmation';\nimport Results from './Results/Results';\nimport Disclaimer from './Disclaimer/Disclaimer';\nimport PrivacyPolicy from './PrivacyPolicy/PrivacyPolicy';\nimport Language from '../../utils/Language';\nimport VisitorPrefs from '../../logic/VisitorPrefs';\nimport Pixels from '../../utils/Pixels';\nimport * as actions from '../../storage/redux/actions/index';\n\nclass BenefitsTool extends Component {\n\n    componentDidMount() {\n        this.props.onToolLoaded();\n    }\n\n    render() {\n\n        if (!this.props.loaded) {\n            return <Spinner />;\n        }\n\n        const lang = {\n            cookie_notice: {\n                close_alt: Language.get('util_cancel_alt_text'),\n                title: Language.get('cookie_notice_title'),\n                message_simple: Language.get('cookie_notice_message'),\n                configure_link_text: Language.get('cookie_notice_configure_link_text'),\n                reject_button_text: Language.get('cookie_notice_reject_button_text'),\n                accept_button_text: Language.get('cookie_notice_accept_button_text'),\n                message_detailed: Language.get('cookie_notice_message_detailed'),\n                save_button_text: Language.get('cookie_notice_save_button_text')\n            }\n        };\n\n        const settings = VisitorPrefs.options.map(opt => {\n            return { ...opt,\n                label: Language.get(opt.title_lang_key),\n                description: Language.get(opt.desc_lang_key)\n            };\n        });\n\n        Pixels.invoke(this.props.visitor_prefs);\n\n        return (\n            <div className=\"BenefitsTool\">\n                <Switch>\n                    <Route path=\"/quiz/:step\" component={Quiz} />\n                    <Route path=\"/quiz\" component={Quiz} />\n                    <Route path=\"/confirm\" component={Confirmation} />\n                    <Route path=\"/results\" component={Results} />\n                    <Route path=\"/disclaimer\" component={Disclaimer} />\n                    <Route path=\"/privacy-policy\" component={PrivacyPolicy} />\n                    <Route path=\"/\" component={Landing} />\n                </Switch>\n                <CookieNotice\n                    show={this.props.show_cookie_notice}\n                    settings={settings}\n                    prefs={this.props.visitor_prefs}\n                    saved={(prefs) => this.props.saveCookiePrefs(prefs) }\n                    lang={lang.cookie_notice} />\n            </div>\n        );\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        loaded: state.loaded,\n        visitor_prefs: state.visitor_prefs,\n        show_cookie_notice: state.visitor_prefs === null ? true : false\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        saveCookiePrefs: (prefs) => dispatch(actions.cookiePrefsSave(prefs)),\n        onToolLoaded: () => dispatch(actions.loadToolData())\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BenefitsTool);\n","import React from 'react';\n\nimport './AdminPage.css';\n\nconst adminPage = (props) => {\n    return (\n        <div className=\"AdminSection\">\n            {props.advanced ?\n                <p className=\"Warning\"><i>Should you be here?</i></p>\n            : null}\n            <h2>{props.title}</h2>\n            <p className=\"AdminBreadcrumbs\">{props.breadcrumbs.join(' > ')}</p>\n            <div className=\"AdminBody\">\n                {props.children}\n            </div>\n        </div>\n    );\n};\n\nexport default adminPage;\n","import React from 'react';\nimport { DateTime } from 'luxon';\n\nimport Message from '../../UI/Message/Message';\nimport DeployData from '../../../data/deployment.json';\n\nconst deployMessage = (props) => {\n    const dt = DateTime.fromISO(DeployData.date_deployed);\n    const deployTime = dt.toLocaleString(DateTime.DATETIME_FULL);\n    return (\n        <Message type=\"info\"\n            text={'The current deployment is v' + DeployData.version_num + ', deployed ' + deployTime} />\n    );\n};\n\nexport default deployMessage;\n","const aux = (props) => props.children;\n\nexport default aux;\n","import React, { useState } from 'react';\n\nimport IconButton from '../IconButton/IconButton';\n\nimport './Table.css';\n\nconst Table = (props) => {\n\n    const [ hiddenCols, hideCols ] = useState(true);\n\n    const col_class = (key) => {\n        return key.replace(/[^a-z\\-0-9]+/g, '-').replace(/-+/, '-');\n    };\n\n    let header_cells = props.cols.map((h) => {\n        let classes = [ col_class(h.key) ];\n        if (props.toggle_cols && props.toggle_cols[h.key]) {\n            classes.push('ToggleTarget');\n            if (hiddenCols) {\n                classes.push('ToggleHidden');\n            } else {\n                classes.push('ToggleShown');\n            }\n        }\n        return <th key={h.key} className={classes.join(' ')}>{h.title}</th>\n    });\n\n    let i = 0;\n    let body_rows = props.rows.map((r) => {\n        ++i;\n        let cells = [];\n        let clickable = props.clickable || {};\n        let snip = props.snip || {};\n        for (const h of props.cols) {\n            let classes = [ col_class(h.key) ];\n            let clicked = null;\n            let value = r[h.key];\n            let title = null;\n            if (h.key in clickable) {\n                clicked = () => { clickable[h.key](r, h.key); };\n                classes.push('Clickable');\n            }\n            if (h.key in snip) {\n                let full = value;\n                if (full && full.length > snip[h.key]) {\n                    let short = value.substring(0, snip[h.key]) + '...';\n                    value = short;\n                    title = full;\n                    classes.push('Snipped');\n                }\n            }\n            if (props.toggle_cols && props.toggle_cols[h.key]) {\n                classes.push('ToggleTarget');\n                if (hiddenCols) {\n                    classes.push('ToggleHidden');\n                } else {\n                    classes.push('ToggleShown');\n                }\n            }\n            cells.push(<td key={i}\n                className={classes.join(' ')}\n                onClick={clicked}\n                title={title}>{value}</td>);\n            ++i;\n        }\n        return <tr key={i}>{cells}</tr>;\n    });\n\n    let classes = [ 'AdminTable' ];\n    if (props.size === 'tiny') {\n        classes.push('TinyTable');\n    }\n    if (props.toggle_cols) {\n        classes.push('ToggleCols');\n    }\n\n    let toggler = null;\n    if (props.toggle_cols) {\n        let icon = 'far fa-eye-slash';\n        let text = 'collapse columns';\n        if (props.toggle_collapse_title) {\n            text = props.toggle_collapse_title;\n        }\n        if (hiddenCols) {\n            icon = 'far fa-eye';\n            text = 'expand columns';\n            if (props.toggle_expand_title) {\n                text = props.toggle_expand_title;\n            }\n        }\n        toggler = (\n            <div className=\"ViewToggle\">\n                <IconButton icon={icon}\n                    clicked={() => hideCols(!hiddenCols)}\n                    append_text={text} />\n            </div>\n        );\n    }\n\n    return (\n        <div className={classes.join(' ')}>\n            {toggler}\n            <table>\n                <thead>\n                    <tr>\n                        {header_cells}\n                    </tr>\n                </thead>\n                <tbody>\n                    {body_rows}\n                </tbody>\n            </table>\n        </div>\n    );\n};\n\nexport default Table;\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { DateTime } from 'luxon';\n\nimport AdminPage from '../../../../hoc/AdminPage/AdminPage';\nimport DeployMessage from '../../../../components/Admin/DeployMessage/DeployMessage';\nimport Aux from '../../../../hoc/Aux/Aux';\nimport Spinner from '../../../../components/UI/Spinner/Spinner';\nimport Table from '../../../../components/UI/Table/Table';\nimport Message from '../../../../components/UI/Message/Message';\nimport IconButton from '../../../../components/UI/IconButton/IconButton';\nimport Api from '../../../../storage/Api';\nimport Logger from '../../../../utils/Logger';\n\nimport './List.css';\n\nclass AdminAdvancedList extends Component {\n\n    state = {\n        loaded: false,\n        deploys: null,\n        error: null\n    };\n\n    cols = [\n        { key: 'version_num', title: 'Version Number' },\n        { key: 'deploy_date', title: 'Created At' },\n        { key: 'download', title: 'Download' },\n        { key: 'load', title: 'Revert' },\n    ];\n\n    clickable = {\n        load: (row) => { this.revertToRow(row); }\n    };\n\n    refresh = () => {\n        this.fetchDeploys();\n    };\n\n    componentDidMount() {\n        Logger.setComponent('Admin/Advanced/List');\n        this.fetchDeploys();\n    }\n\n    fetchDeploys() {\n        this.setState({ loaded: false, deploys: null, error: null });\n        const data = { token: this.props.token };\n        Api.getAllDeploys(data)\n            .then((response) => {\n                const all = response.data.all ? response.data.all : [];\n                this.setState({ loaded: true, deploys: all });\n            })\n            .catch((error) => {\n                if (!error.isAxiosError) {\n                    throw error;\n                }\n                Logger.alert('Could not fetch deployments', { api_error: Api.parseAxiosError(error) });\n                this.setState({ error: 'Could not fetch deployments' });\n            });\n    }\n\n    revertToRow(row) {\n        this.props.history.push('/admin/advanced/load/' + row.id);\n    }\n\n    render() {\n        Logger.setComponent('Admin/Advanced/List');\n        let body = null;\n        if (this.state.loaded) {\n            const rows = this.state.deploys.map(item => {\n                const dt = DateTime.fromISO(item.date_deployed);\n                const formatted = dt.toLocaleString(DateTime.DATETIME_SHORT);\n                const url = Api.getDeployDownloadUrl(\n                    item.version_num,\n                    item.uuid,\n                    this.props.token);\n                const fname = 'hnct-' + item.version_num + '.zip';\n                const download = (\n                    <a className=\"DownloadDeploy\" download={fname} href={url}>\n                        <i className=\"fas fa-download\" title=\"download\"></i>\n                    </a>\n                );\n                return {\n                    id: item.deployment_id,\n                    version_num: item.version_num,\n                    uuid: item.uuid,\n                    deploy_date: formatted,\n                    download: download,\n                    load: <i className=\"fas fa-history\" title=\"revert\"></i>\n                };\n            });\n            body = (\n                <div className=\"DeployList\">\n                    <div className=\"RefreshWrapper\">\n                    <IconButton icon_type=\"refresh\"\n                        clicked={this.refresh} />\n                    </div>\n                    <Table rows={rows}\n                        cols={this.cols}\n                        clickable={this.clickable} />\n                </div>\n            );\n        } else {\n            body = (\n                <Aux>\n                    {this.state.error ?\n                        <Message type=\"error\" text={this.state.error} tryagain={this.refresh} />\n                    : null}\n                    <Spinner />\n                </Aux>\n            );\n        }\n        return (\n            <AdminPage\n                title=\"Advanced Functions: Deployments\"\n                breadcrumbs={['Admin', 'Advanced', 'Deployments']}\n                advanced={true}>\n                <DeployMessage />\n                {body}\n            </AdminPage>\n        );\n    }\n\n}\n\nexport default withRouter(AdminAdvancedList);\n","import React from 'react';\n\nimport Spinner from '../Spinner/Spinner';\n\nimport './ProcessingButton.css';\n\nconst processingButton = (props) => {\n    let classes = [ 'ProcessingButton' ];\n    let content = null;\n    let doWork = props.clicked;\n    let disabled = false;\n    if (props.working) {\n        classes.push('Working');\n        content = <Spinner color=\"gray-flipped\" />;\n        doWork = null;\n    } else {\n        content = props.text;\n    }\n    if (props.disabled) {\n        classes.push('Disabled');\n        disabled = true;\n    }\n    if (props.size === 'large') {\n        classes.push('LargeSize');\n    }\n    return (\n        <div className={classes.join(' ')} onClick={doWork} disabled={disabled}>{content}</div>\n    );\n};\n\nexport default processingButton;\n","import React from 'react';\n\nimport './RawTextBox.css';\n\nconst rawTextBox = (props) => {\n    let classes = [ 'RawTextBox' ];\n    let rawtext = null;\n    if (!props.contents) {\n        classes.push('Empty');\n        rawtext = props.emptytext || 'empty';\n    } else {\n        rawtext = props.contents;\n    }\n    return (\n        <div className={classes.join(' ')}>\n            {props.title ?\n                <h6 className=\"RawTextBoxTitle\">{props.title}</h6>\n            : null}\n            <code>\n            {rawtext}\n            </code>\n        </div>\n    );\n};\n\nexport default rawTextBox;\n","import React from 'react';\n\nimport ProcessingButton from '../../UI/ProcessingButton/ProcessingButton';\nimport RawTextBox from '../../UI/RawTextBox/RawTextBox';\nimport Message from '../../UI/Message/Message';\n\nimport './FunctionBox.css';\n\nconst functionBox = (props) => {\n    let emptytext = null;\n    if (props.working) {\n        emptytext = 'processing...';\n    } else if (props.emptyText) {\n        emptytext = props.emptyText;\n    }\n    let boxContents = null;\n    if (props.results) {\n        boxContents = props.results;\n    }\n    return (\n        <div className=\"FunctionBox\">\n            <h3>{props.title}</h3>\n            <p className=\"Explainer\">{props.explainer}</p>\n            <ProcessingButton\n                size=\"large\"\n                working={props.working}\n                clicked={props.clicked}\n                text={props.buttonText} />\n            {props.error ?\n                <Message type=\"error\" text={props.error} />\n            : props.successBox}\n            <RawTextBox contents={boxContents} emptytext={emptytext} />\n        </div>\n    );\n};\n\nexport default functionBox;\n","import React, { Component } from 'react';\n\nimport AdminPage from '../../../../hoc/AdminPage/AdminPage';\nimport FunctionBox from '../../../../components/Admin/FunctionBox/FunctionBox';\nimport DeployMessage from '../../../../components/Admin/DeployMessage/DeployMessage';\nimport Message from '../../../../components/UI/Message/Message';\nimport Api from '../../../../storage/Api';\nimport Logger from '../../../../utils/Logger';\n\nimport './Save.css';\n\nclass AdminAdvancedSave extends Component {\n\n    state = {\n        processing: false,\n        process_data: null,\n        error: null,\n        download_info: null\n    };\n\n    deploy = () => {\n        this.setState({\n            processing: true,\n            process_data: null,\n            error: null\n        });\n        const data = {\n            token: this.props.token\n        };\n        Api.deployAdmin(data)\n            .then(response => {\n                this.setState({\n                    processing: false,\n                    process_data: JSON.stringify(response.data),\n                    download_info: response.data,\n                    error: null\n                });\n            })\n            .catch(error => {\n                if (!error.isAxiosError) {\n                    throw error;\n                }\n                const parsed = Api.parseAxiosError(error);\n                Logger.alert('Could not deploy recent changes', { api_error: parsed });\n                this.setState({\n                    processing: false,\n                    error: '[' + parsed.code + '] ' + parsed.message\n                });\n            });\n    }\n\n    componentDidMount() {\n        Logger.setComponent('Admin/Advanced/Save');\n    }\n\n    render() {\n        Logger.setComponent('Admin/Advanced/Save');\n        let successBox = null;\n        if (this.state.download_info) {\n            const vnum = this.state.download_info.version;\n            const uuid = this.state.download_info.uuid;\n            const url = Api.getDeployDownloadUrl(vnum, uuid, this.props.token);\n            const fname = 'hnct-' + vnum + '.zip';\n            const downloadLink = (\n                <a className=\"DownloadDeploy\" download={fname} href={url}>\n                    <i className=\"fas fa-download\" title=\"download\"></i>\n                </a>\n            );\n            successBox = <Message type=\"success\"\n                text=\"Download the deploy here:\"\n                custom_button={downloadLink} />;\n        }\n\n        return (\n            <AdminPage\n                title=\"Advanced Functions: Save Deploy\"\n                breadcrumbs={['Admin', 'Advanced', 'Save Deploy']}\n                advanced={true}>\n                <DeployMessage />\n                <FunctionBox\n                    working={this.state.processing}\n                    emptyText=\"Click Go to deploy all changes...\"\n                    results={this.state.process_data}\n                    title=\"Wrap all changes from the admin into a new deployment\"\n                    explainer=\"This will create a zip file you can download containing the new versions of the data files to be commited and deployed\"\n                    clicked={this.deploy}\n                    buttonText=\"Go\"\n                    error={this.state.error}\n                    successBox={successBox}\n                    />\n            </AdminPage>\n        );\n    }\n}\n\nexport default AdminAdvancedSave;\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { DateTime } from 'luxon';\n\nimport AdminPage from '../../../../hoc/AdminPage/AdminPage';\nimport Aux from '../../../../hoc/Aux/Aux';\nimport Spinner from '../../../../components/UI/Spinner/Spinner';\nimport Message from '../../../../components/UI/Message/Message';\nimport FunctionBox from '../../../../components/Admin/FunctionBox/FunctionBox';\nimport DeployMessage from '../../../../components/Admin/DeployMessage/DeployMessage';\nimport Api from '../../../../storage/Api';\nimport Logger from '../../../../utils/Logger';\n\nimport DeployData from '../../../../data/deployment.json';\n\nclass AdminAdvancedLoad extends Component {\n\n    state = {\n        loaded: false,\n        processing: false,\n        process_data: null,\n        error: null,\n    };\n\n    initDeploys = () => {\n        this.setState({\n            processing: true,\n            process_data: null,\n            error: null\n        });\n        const data = {\n            token: this.props.token,\n            id: this.state.deployment.deployment_id\n        };\n        Api.revertAdmin(data)\n            .then(response => {\n                this.setState({\n                    processing: false,\n                    process_data: JSON.stringify(response.data),\n                    error: null\n                });\n            })\n            .catch(error => {\n                if (!error.isAxiosError) {\n                    throw error;\n                }\n                const parsed = Api.parseAxiosError(error);\n                Logger.alert('Could not initialize the language deploy', { api_error: parsed });\n                this.setState({\n                    processing: false,\n                    error: '[' + parsed.code + '] ' + parsed.message\n                });\n            });\n    }\n\n    componentDidMount() {\n        Logger.setComponent('Admin/Advanced/Load');\n        const id = this.getId();\n        if (!id) {\n            this.setState({ loaded: true, deployment: DeployData });\n        } else {\n            this.fetchDeployment();\n        }\n    }\n\n    fetchDeployment() {\n        this.setState({ loaded: false, error: null });\n        const data = { token: this.props.token, id: this.getId() };\n        Api.getDeploymentInfo(data)\n            .then((response) => {\n                this.setState({\n                    loaded: true,\n                    deployment: response.data.deployment\n                });\n            })\n            .catch((error) => {\n                if (!error.isAxiosError) {\n                    throw error;\n                }\n                Logger.alert('Could not fetch deployment info', { api_error: Api.parseAxiosError(error), key: this.getId() });\n                this.setState({ error: 'Could not fetch deployment info' });\n            });\n    }\n\n    getId() {\n        if (this.props.match.params.id) {\n            return this.props.match.params.id;\n        }\n        return null;\n    }\n\n    render() {\n        Logger.setComponent('Admin/Advanced/Load');\n        let body = null;\n        if (!this.state.loaded) {\n            body = (\n                <Aux>\n                    {this.state.error ?\n                        <Message type=\"error\" text={this.state.error} tryagain={this.refresh} />\n                    : null}\n                    <Spinner />\n                </Aux>\n            );\n        } else {\n            let functionTitle = 'Replace the admin database with version ' + this.state.deployment.version_num;\n            let dt = DateTime.fromISO(this.state.deployment.date_deployed);\n            let formatted = dt.toFormat('LLL dd');\n            let functionExplainer = 'This will destroy any changes that have been made in the admin since ' + formatted;\n            body = (\n                <FunctionBox\n                    working={this.state.processing}\n                    emptyText=\"Click Go to re-intitalize the translations...\"\n                    results={this.state.process_data}\n                    title={functionTitle}\n                    explainer={functionExplainer}\n                    clicked={this.initDeploys}\n                    buttonText=\"Go\"\n                    error={this.state.error}\n                    />\n            );\n        }\n        return (\n            <AdminPage\n                title=\"Advanced Functions: Load Deploy\"\n                breadcrumbs={['Admin', 'Advanced', 'Load Deploy']}\n                advanced={true}>\n                <DeployMessage />\n                {body}\n            </AdminPage>\n        );\n    }\n}\n\nexport default withRouter(AdminAdvancedLoad);\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\n\nimport AdminPage from '../../../../hoc/AdminPage/AdminPage';\nimport FunctionBox from '../../../../components/Admin/FunctionBox/FunctionBox';\nimport DeployMessage from '../../../../components/Admin/DeployMessage/DeployMessage';\nimport Api from '../../../../storage/Api';\nimport Logger from '../../../../utils/Logger';\n\nimport DeployData from '../../../../data/deployment.json';\nimport BenefitsData from '../../../../data/benefits.json';\nimport ConditionsData from '../../../../data/conditions.json';\nimport CtaData from '../../../../data/cta.json';\nimport LangEnData from '../../../../data/lang_en.json';\nimport LangKeysData from '../../../../data/lang_keys.json';\nimport ResourcesData from '../../../../data/resources.json';\nimport ScenariosData from '../../../../data/scenarios.json';\n\nclass AdminAdvancedReplace extends Component {\n\n    state = {\n        loaded: false,\n        processing: false,\n        process_data: null,\n        error: null,\n    };\n\n    replaceDatabase = () => {\n        this.setState({\n            processing: true,\n            process_data: null,\n            error: null\n        });\n        const data = {\n            token: this.props.token,\n            deployment: DeployData,\n            alldata: {\n                benefits: BenefitsData,\n                conditions: ConditionsData,\n                cta: CtaData,\n                lang_en: LangEnData,\n                lang_keys: LangKeysData,\n                resources: ResourcesData,\n                scenarios: ScenariosData\n            }\n        };\n        Api.replaceAdmin(data)\n            .then(response => {\n                this.setState({\n                    processing: false,\n                    process_data: JSON.stringify(response.data),\n                    error: null\n                });\n            })\n            .catch(error => {\n                if (!error.isAxiosError) {\n                    throw error;\n                }\n                const parsed = Api.parseAxiosError(error);\n                Logger.alert('Could not replace the admin database', { api_error: parsed });\n                this.setState({\n                    processing: false,\n                    error: '[' + parsed.code + '] ' + parsed.message\n                });\n            });\n    }\n\n    componentDidMount() {\n        Logger.setComponent('Admin/Advanced/Replace');\n    }\n\n    render() {\n        Logger.setComponent('Admin/Advanced/Replace');\n        return (\n            <AdminPage\n                title=\"Advanced Functions: Replace Database\"\n                breadcrumbs={['Admin', 'Advanced', 'Replace Database']}\n                advanced={true}>\n                <DeployMessage />\n                <FunctionBox\n                    working={this.state.processing}\n                    emptyText=\"Click Go to replace the database...\"\n                    results={this.state.process_data}\n                    title=\"Replace the admin database with the current files and create a new deployment\"\n                    explainer=\"This will destroy any changes that have been made in the admin that have not been saved to a deployment\"\n                    clicked={this.replaceDatabase}\n                    buttonText=\"Go\"\n                    error={this.state.error}\n                    />\n            </AdminPage>\n        );\n    }\n}\n\nexport default withRouter(AdminAdvancedReplace);\n","import React, { Component } from 'react';\nimport { Route, Switch, withRouter } from 'react-router-dom';\n\nimport List from './List/List';\nimport Save from './Save/Save';\nimport Load from './Load/Load';\nimport Replace from './Replace/Replace';\nimport Aux from '../../../hoc/Aux/Aux';\n\nimport './Advanced.css';\n\nclass AdminAdvanced extends Component {\n\n    goToSave = () => {\n        this.props.history.push('/admin/advanced/save');\n    }\n\n    goToList = () => {\n        this.props.history.push('/admin/advanced');\n    }\n\n    goToReplace = () => {\n        this.props.history.push('/admin/advanced/replace');\n    }\n\n    render() {\n        const doSave = () => {\n            return <Save token={this.props.token} />;\n        };\n        const doLoad = () => {\n            return <Load token={this.props.token} />;\n        };\n        const doReplace = () => {\n            return <Replace token={this.props.token} />;\n        };\n        const doList = () => {\n            return <List token={this.props.token} />;\n        };\n        return (\n            <Aux>\n                <Switch>\n                    <Route path=\"/admin/advanced/load/:id\" render={doLoad} />\n                    <Route path=\"/admin/advanced/load\" render={doLoad} />\n                    <Route path=\"/admin/advanced/replace\" render={doReplace} />\n                    <Route path=\"/admin/advanced/save\" render={doSave} />\n                    <Route path=\"/\" render={doList} />\n                </Switch>\n                <div className=\"OtherFunctions\">\n                    <h4>Advanced Functions</h4>\n                    <ul>\n                        <li><button onClick={this.goToSave}>Save Deploy</button></li>\n                        <li><button onClick={this.goToList}>List Deployments</button></li>\n                        <li><button onClick={this.goToReplace}>Replace Database</button></li>\n                    </ul>\n                </div>\n            </Aux>\n        );\n    }\n\n}\n\nexport default withRouter(AdminAdvanced);\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\n\nimport AdminPage from '../../../../hoc/AdminPage/AdminPage';\nimport Aux from '../../../../hoc/Aux/Aux';\nimport Spinner from '../../../../components/UI/Spinner/Spinner';\nimport Message from '../../../../components/UI/Message/Message';\nimport Table from '../../../../components/UI/Table/Table';\nimport IconButton from '../../../../components/UI/IconButton/IconButton';\nimport Api from '../../../../storage/Api';\nimport Logger from '../../../../utils/Logger';\n\nclass AdminResultsList extends Component {\n\n    state = {\n        loaded: false,\n        benefits: null,\n        language: null,\n        error: null\n    };\n\n    cols = [\n        { key: 'name', title: 'Name' },\n        { key: 'abbreviation', title: 'Abbreviation' },\n        { key: 'scenarios', title: 'Scenarios' },\n        { key: 'resources', title: 'Resources' }\n    ];\n\n    clickable = {\n        scenarios: (row) => { this.editScenarios(row); },\n        resources: (row) => { this.editResources(row); }\n    };\n\n    refresh = () => {\n        this.fetchBenefits();\n    };\n\n    editCommonResources = () => {\n        this.props.history.push('/admin/resources/common');\n    };\n\n    editCommonLanguage = () => {\n        this.props.history.push('/admin/language/results');\n    };\n\n    componentDidMount() {\n        Logger.setComponent('Admin/Results/List');\n        this.fetchBenefits();\n    }\n\n    fetchBenefits() {\n        this.setState({ loaded: false, benefits: null, error: null });\n        const data = { token: this.props.token };\n        Api.getBenefits(data)\n            .then((response) => {\n                const benefits = response.data.benefits ? response.data.benefits : [];\n                this.setState({ loaded: true, benefits: benefits });\n            })\n            .catch((error) => {\n                if (!error.isAxiosError) {\n                    throw error;\n                }\n                Logger.alert('Could not fetch benefits', { api_error: Api.parseAxiosError(error) });\n                this.setState({ error: 'Could not fetch benefits' });\n            });\n    }\n\n    editScenarios(row) {\n        this.props.history.push('/admin/results/' + row.code);\n    }\n\n    editResources(row) {\n        this.props.history.push('/admin/resources/' + row.code);\n    }\n\n    render() {\n        Logger.setComponent('Admin/Results/List');\n        let body = null;\n        if (this.state.loaded) {\n            let rows = this.state.benefits\n                .sort()\n                .map(benefit => {\n                    return {\n                        code: benefit.code,\n                        name: benefit.name,\n                        abbreviation: benefit.abbreviation,\n                        scenarios: <i className=\"fas fa-align-justify\" title=\"Edit Scenarios\"></i>,\n                        resources: <i className=\"fas fa-link\" title=\"Resources\"></i>,\n                    };\n                });\n            body = (\n                <Aux>\n                    <h3>Results By Benefit</h3>\n                    <Table\n                        rows={rows}\n                        cols={this.cols}\n                        clickable={this.clickable} />\n                    <div className=\"Extras\">\n                        <h3>Non-Benefit Related Results</h3>\n                        <p><IconButton icon=\"fas fa-align-justify\"\n                            title=\"Language\"\n                            append_text=\"Common Language\"\n                            clicked={this.editCommonLanguage} /></p>\n                        <p><IconButton icon=\"fas fa-link\"\n                            title=\"Resources\"\n                            append_text=\"Common Resources\"\n                            clicked={this.editCommonResources} /></p>\n                    </div>\n                </Aux>\n            );\n        } else {\n            body = (\n                <Aux>\n                    {this.state.error ?\n                        <Message type=\"error\" text={this.state.error} tryagain={this.refresh} />\n                    : null}\n                    <Spinner />\n                </Aux>\n            );\n        }\n        return (\n            <AdminPage\n                title=\"Results: Manage the Results Page\"\n                breadcrumbs={['Admin', 'Results', 'List']}>\n                {body}\n            </AdminPage>\n        );\n    }\n\n}\n\nexport default withRouter(AdminResultsList);\n","import React from 'react';\n\nimport './SelectFilters.css';\n\nconst selectFilters = (props) => {\n    let empty = null;\n    if (props.empty) {\n        empty = <option value=\"\">-- {props.empty} --</option>;\n    }\n    const selects = props.selects.map(select => {\n        const options = select.options.map(option => {\n            return (\n                <option key={option.value} value={option.value}>\n                    {option.text}\n                </option>\n            );\n        });\n        return (\n            <div className=\"Filter\" key={select.label}>\n                <label>{select.label}</label>\n                <select name={select.name} onChange={props.changed}>\n                    {empty}\n                    {options}\n                </select>\n            </div>\n        );\n    });\n    return (\n        <div className=\"SelectFilters\">\n            {selects}\n        </div>\n    );\n};\n\nexport default selectFilters;\n","import React from 'react';\n\nimport Table from '../../UI/Table/Table';\nimport IconButton from '../../UI/IconButton/IconButton';\n\nimport './CompareTable.css';\n\nconst LIST_LAYOUT = 'list';\nconst COMPARE_LAYOUT = 'compare';\n\nconst CompareTable = (props) => {\n\n    let classes = [ 'CompareTable' ];\n    if (props.current === COMPARE_LAYOUT) {\n        classes.push('CompareLayout');\n    } else {\n        classes.push('ListLayout');\n    }\n\n    const doChange = (e, choice) => {\n        e.preventDefault();\n        props.changed(choice);\n    };\n    const layout_selector = (\n        <div className=\"LayoutToggle\">\n            <IconButton icon=\"fas fa-table\"\n                title=\"List View\"\n                clicked={(e) => doChange(e, LIST_LAYOUT)}\n                append_text=\"List\"\n                add_class={props.current === LIST_LAYOUT ? 'Active' : null} />\n            <IconButton icon=\"fas fa-columns\"\n                title=\"Compare View\"\n                clicked={(e) => doChange(e, COMPARE_LAYOUT)}\n                append_text=\"Compare\"\n                add_class={props.current === COMPARE_LAYOUT ? 'Active' : null} />\n        </div>\n    );\n\n    const rows = props.rows || [];\n    const cols = props.cols || [];\n    const other = props.other || {};\n\n    return (\n        <div className={classes.join(' ')}>\n            {layout_selector}\n            <Table {...other}\n                rows={rows}\n                cols={cols} />\n        </div>\n    );\n};\n\nexport { LIST_LAYOUT, COMPARE_LAYOUT };\nexport default CompareTable;\n","const md = require('markdown-it')();\n\nexport default md;\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { Link } from \"react-router-dom\";\n\nimport AdminPage from '../../../../hoc/AdminPage/AdminPage';\nimport Aux from '../../../../hoc/Aux/Aux';\nimport SelectFilters from '../../../../components/UI/SelectFilters/SelectFilters';\nimport CompareTable from '../../../../components/Admin/CompareTable/CompareTable';\nimport Spinner from '../../../../components/UI/Spinner/Spinner';\nimport Message from '../../../../components/UI/Message/Message';\nimport Api from '../../../../storage/Api';\nimport Logger from '../../../../utils/Logger';\nimport Markdown from '../../../../utils/Markdown';\n\nclass AdminResultsFilter extends Component {\n\n    state = {\n        loaded: false,\n        benefit: null,\n        conditions: null,\n        scenarios: null,\n        error: null,\n        filters: {},\n        layout: 'list'\n    };\n\n    list_cols = [\n        { key: 'help', title: 'Scenario' },\n        { key: 'enabled', title: 'Eligible?' },\n        { key: 'result', title: 'Response' }\n    ];\n\n    list_snip = {\n        result: 120\n    };\n\n    filterResponses = (e) => {\n        const condition = e.target.getAttribute('name');\n        const letter = e.target.options[e.target.selectedIndex].value;\n        this.setState((prevState) => {\n            let newFilters = {};\n            for (const key in prevState.filters) {\n                if (key === condition) {\n                    if (letter) {\n                        newFilters[key] = letter;\n                    } else {\n                        newFilters[key] = null;\n                    }\n                } else if (prevState.filters[key]) {\n                    newFilters[key] = prevState.filters[key];\n                } else {\n                    newFilters[key] = null;\n                }\n            }\n            return { filters: newFilters };\n        });\n    };\n\n    setLayout = (newLayout) => {\n        this.setState({ layout: newLayout });\n    };\n\n    refresh = () => {\n        this.fetchBenefit();\n    };\n\n    componentDidMount() {\n        Logger.setComponent('Admin/Results/Filter');\n        this.fetchBenefit();\n    }\n\n    fetchBenefit() {\n        this.setState({\n            loaded: false,\n            benefit: null,\n            conditions: null,\n            scenarios: null,\n            error: null,\n            filters: null\n        });\n        const data = { token: this.props.token };\n        Api.getScenarios(this.props.match.params.benefit, data)\n            .then((response) => {\n                if (!response.data.benefit) {\n                    this.setState({ error: 'That benefit is unknown' });\n                } else {\n                    const benefit = response.data.benefit;\n                    const conditions = response.data.conditions ? response.data.conditions : [];\n                    const scenarios = response.data.scenarios ? response.data.scenarios : [];\n                    const filters = {};\n                    for (const c of conditions) {\n                        filters[c.key_name] = null;\n                    }\n                    this.setState({\n                        loaded: true,\n                        benefit: benefit,\n                        conditions: conditions,\n                        scenarios: scenarios,\n                        filters: filters\n                    });\n                }\n            })\n            .catch((error) => {\n                if (!error.isAxiosError) {\n                    throw error;\n                }\n                Logger.alert('Could not fetch benefit scenarios', { api_error: Api.parseAxiosError(error) });\n                this.setState({ error: 'Could not fetch benefit scenarios' });\n            });\n    }\n\n    helpToElem(help) {\n        const markup = help.split(/\\n/).join('<br />\\n');\n        return <p dangerouslySetInnerHTML={{__html: markup}}></p>\n    }\n\n    markdownToElem(markdown) {\n        const markup = Markdown.render(markdown || '');\n        return <div dangerouslySetInnerHTML={{__html: markup}}></div>\n    }\n\n    getEditLink(id) {\n        return '/admin/results/' + this.state.benefit.code + '/edit/' + id;\n    }\n\n    filter() {\n        return this.state.scenarios.filter(scenario => {\n            for (const key in this.state.filters) {\n                if (this.state.filters[key] !== null) {\n                    if (scenario.condition_map[key] !== this.state.filters[key]) {\n                        return false;\n                    } else {\n                    }\n                }\n            }\n            return true;\n        });\n    }\n\n    render() {\n        Logger.setComponent('Admin/Results/Filter');\n        let body = null;\n        let title = 'Results: ';\n        let crumbs = ['Admin', 'Results'];\n        if (this.state.loaded) {\n            title += this.state.benefit.abbreviation + ': Filter Responses';\n            crumbs.push(this.state.benefit.abbreviation);\n            crumbs.push('Filter');\n\n            // Filtering\n            const selectProps = this.state.conditions.map(condition => {\n                const options = condition.options.map(option => {\n                    return {\n                        value: option.letter,\n                        text: option.answer,\n                    };\n                });\n                return {\n                    label: condition.name,\n                    name: condition.key_name,\n                    options: options\n                };\n            });\n            const selects = (\n                <SelectFilters\n                    selects={selectProps}\n                    empty=\"any\"\n                    changed={this.filterResponses} />\n            );\n\n            // Table\n            let rows = [];\n            let cols = [];\n            let snip = {};\n            if (this.state.layout === 'compare') {\n                cols = this.filter().map(scenario => {\n                    return {\n                        key: scenario.lang_key_result,\n                        title: this.helpToElem(scenario.help)\n                    };\n                });\n                let enabled_row = {};\n                let short_row = {};\n                let long_row = {};\n                let edit_row = {};\n                for (const scenario of this.filter()) {\n                    const code = scenario.lang_key_result;\n                    let eligibleFlag = null;\n                    if (scenario.enabled) {\n                        eligibleFlag = (\n                            <span className=\"EligibleFlag GenericSuccess\">\n                                <i class=\"fas fa-check-square\"></i>\n                                &nbsp;\n                                Eligible\n                            </span>\n                        );\n                    } else {\n                        eligibleFlag = (\n                            <span className=\"EligibleFlag GenericError\">\n                                <i class=\"fas fa-times\"></i>\n                                &nbsp;\n                                Not Eligible\n                            </span>\n                        );\n                    }\n                    enabled_row[code] = eligibleFlag;\n                    short_row[code] = this.markdownToElem(scenario.en_result);\n                    long_row[code] = this.markdownToElem(scenario.en_expanded);\n                    edit_row[code] = (\n                        <Link to={this.getEditLink(scenario.id)}>\n                            <i className=\"fas fa-pencil-alt\"></i> Edit\n                        </Link>\n                    );\n                }\n                rows.push(enabled_row);\n                rows.push(short_row);\n                rows.push(long_row);\n                rows.push(edit_row);\n            } else {\n                rows = this.filter().map(scenario => {\n                    const link = (\n                        <Link to={this.getEditLink(scenario.id)}>\n                            {this.helpToElem(scenario.help)}\n                        </Link>\n                    );\n                    let combined = '';\n                    if (scenario.en_result || scenario.en_expanded) {\n                        combined += scenario.en_result || '';\n                        combined += \"\\n\\n---\\n\\n\";\n                        combined += scenario.en_expanded || '';\n                    }\n                    return {\n                        id: scenario.id,\n                        help: link,\n                        enabled: scenario.enabled ? 'Yes' : 'No',\n                        result: combined\n                    };\n                });\n                cols = this.list_cols;\n                snip = this.list_snip;\n            }\n\n            body = (\n                <Aux>\n                    {selects}\n                    <CompareTable\n                        current={this.state.layout}\n                        changed={this.setLayout}\n                        rows={rows}\n                        cols={cols}\n                        other={{snip: snip}} />\n                </Aux>\n            );\n        } else {\n            title += 'Filter Benefit Responses';\n            crumbs.push('Filter');\n            body = (\n                <Aux>\n                    {this.state.error ?\n                        <Message type=\"error\" text={this.state.error} tryagain={this.refresh} />\n                    : null}\n                    <Spinner />\n                </Aux>\n            );\n        }\n        return (\n            <AdminPage title={title} breadcrumbs={crumbs}>\n                {body}\n            </AdminPage>\n        );\n    }\n\n}\n\nexport default withRouter(AdminResultsFilter);\n","import React, { useState } from 'react';\nimport TextareaAutosize from 'react-textarea-autosize';\n\nimport IconButton from '../../UI/IconButton/IconButton';\nimport Markdown from '../../../utils/Markdown';\nimport { TOKEN_REGEX_TAG_OPEN, TOKEN_REGEX_TAG_CLOSE } from '../../../utils/Language';\n\nimport './EditMarkdown.css';\n\nconst MARKDOWN_HELP_LINK = 'https://www.markdownguide.org/basic-syntax';\nconst HIGHLIGHT_OPEN = 'BEGIN_HIGHLIGHT';\nconst HIGHLIGHT_CLOSE = 'END_HIGHLIGHT';\nconst HIGHLIGHT_TOKEN_OPEN = '{{' + HIGHLIGHT_OPEN + '}}';\nconst HIGHLIGHT_TOKEN_CLOSE = '{{' + HIGHLIGHT_CLOSE + '}}';\n\nconst EditMarkdown = (props) => {\n    const [viewtype, setViewType] = useState('split');\n    const [replacement, setReplacement] = useState('');\n    const [previewText, setPreviewText] = useState(props.value || '');\n    const [wrapped, setWrapped] = useState(false);\n    const [highlighted, setHighlighted] = useState(false);\n\n    // Toggle buttons\n    const doChange = (e, choice) => {\n        e.preventDefault();\n        setViewType(choice);\n    };\n    const doHelp = (e) => {\n        e.preventDefault();\n        window.open(MARKDOWN_HELP_LINK, '_blank');\n    };\n    const toggle = (\n        <div className=\"ViewToggle\">\n            <IconButton icon=\"fas fa-columns\"\n                title=\"Split View\"\n                clicked={(e) => doChange(e, 'split')}\n                append_text=\"split\"\n                add_class={viewtype === 'split' ? 'Active' : null} />\n            <IconButton icon_type=\"edit\"\n                clicked={(e) => doChange(e, 'edit')}\n                append_text=\"edit\"\n                add_class={viewtype === 'edit' ? 'Active' : null} />\n            <IconButton icon_type=\"preview\"\n                clicked={(e) => doChange(e, 'preview')}\n                append_text=\"preview\"\n                add_class={viewtype === 'preview' ? 'Active' : null} />\n            <IconButton icon=\"far fa-life-ring\"\n                clicked={(e) => doHelp(e)}\n                title=\"Markdown Help\"\n                append_text=\"help\" />\n        </div>\n    );\n\n    // Replacement buttons\n    let replacementButtons = null;\n    let doValueChange = (e) => {\n        props.changed(e);\n        let newtext = e.target.value;\n        setPreviewText(newtext);\n    };\n    if (props.replace_token && (viewtype === 'split' || viewtype === 'preview')) {\n        const regexp = new RegExp(TOKEN_REGEX_TAG_OPEN +\n            props.replace_token + TOKEN_REGEX_TAG_CLOSE, 'g');\n\n        const doReplacement = (e) => {\n            if (e) {\n                e.preventDefault();\n            }\n            var choice = e.target.options[e.target.selectedIndex].value;\n            setReplacement(choice);\n            let newtext = props.value || '';\n            if (choice) {\n                const elem = HIGHLIGHT_TOKEN_OPEN + choice + HIGHLIGHT_TOKEN_CLOSE;\n                newtext = newtext.replace(regexp, elem);\n                setWrapped(true);\n            }\n            setPreviewText(newtext);\n        };\n\n        doValueChange = (e) => {\n            props.changed(e);\n            if (props.replace_token && (viewtype === 'split' || viewtype === 'preview')) {\n                let newtext = e.target.value;\n                if (replacement) {\n                    const elem = HIGHLIGHT_TOKEN_OPEN + replacement + HIGHLIGHT_TOKEN_CLOSE;\n                    newtext = newtext.replace(regexp, elem);\n                    setWrapped(true);\n                }\n                setPreviewText(newtext);\n            }\n        }\n\n        let doHighlight = (e) => {\n            setHighlighted(!highlighted);\n        };\n\n        let token = '{{' + props.replace_token + '}}';\n        let options = props.replace_options.map(option => {\n            return <option key={option} value={option}>{option}</option>;\n        });\n\n        replacementButtons = (\n            <div className=\"ViewReplacement\">\n                <div className=\"ExplainReplacement\">\n                    Replace\n                    <span className=\"ReplacementToken\">{token}</span>\n                    with:\n                </div>\n                <div className=\"ReplacementOptions\">\n                    <select name=\"replacement\" onChange={doReplacement} value={replacement}>\n                        <option value=\"\">-- do not replace --</option>\n                        {options}\n                    </select>\n                </div>\n                <div className=\"ReplacementHighlight\">\n                    <label>\n                        <input type=\"checkbox\" onChange={doHighlight} />\n                        Highlight\n                    </label>\n                </div>\n            </div>\n        );\n    }\n\n    // Preview window\n    let preview = Markdown.render(previewText);\n    if (props.replace_token && (viewtype === 'split' || viewtype === 'preview')) {\n        let hlclasses = [ 'PreviewToken' ];\n        if (highlighted) {\n            hlclasses.push('Active');\n        }\n        if (wrapped) {\n            const regexp1 = new RegExp(TOKEN_REGEX_TAG_OPEN + HIGHLIGHT_OPEN + TOKEN_REGEX_TAG_CLOSE, 'g');\n            const regexp2 = new RegExp(TOKEN_REGEX_TAG_OPEN + HIGHLIGHT_CLOSE + TOKEN_REGEX_TAG_CLOSE, 'g');\n            console.log(regexp1);\n            preview = preview.replace(regexp1, '<span class=\"' + hlclasses.join(' ') + '\">');\n            preview = preview.replace(regexp2, '</span>');\n        } else {\n            const regexp = new RegExp(TOKEN_REGEX_TAG_OPEN +\n                props.replace_token + TOKEN_REGEX_TAG_CLOSE, 'g');\n            preview = preview.replace(regexp, '<span class=\"' + hlclasses.join(' ') + '\">{{' + props.replace_token + '}}</span>');\n        }\n    }\n    const previewBox = (\n        <div className=\"PreviewBox\">\n            <div className=\"View\" dangerouslySetInnerHTML={{__html: preview}} />\n        </div>\n    );\n\n    // Edit window\n    const minrows = props.minrows || 5;\n    const editBox = (\n        <div className=\"EditorBox\">\n            <TextareaAutosize rows=\"5\" cols=\"75\"\n                minRows={minrows}\n                name={props.name}\n                defaultValue={props.value}\n                onChange={doValueChange} />\n        </div>\n    );\n\n    if (viewtype === 'split') {\n        return (\n            <div className=\"EditMarkdown SplitEditor\">\n                {toggle}\n                {replacementButtons}\n                <div className=\"SplitWrapper\">\n                    <div className=\"SplitContainer\">\n                        <div className=\"SplitInternal\">\n                            <h5>Edit</h5>\n                            {editBox}\n                        </div>\n                        <div className=\"SplitInternal\">\n                            <h5>Preview</h5>\n                            {previewBox}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    } else if (viewtype === 'edit') {\n        return (\n            <div className=\"EditMarkdown SoloEditor\">\n                {toggle}\n                {editBox}\n            </div>\n        );\n    } else {\n        return (\n            <div className=\"EditMarkdown PreviewOnly\">\n                {toggle}\n                {replacementButtons}\n                {previewBox}\n            </div>\n        );\n    }\n\n};\n\nexport default EditMarkdown;\n","import React from 'react';\n\nimport Message from '../../UI/Message/Message';\nimport ProcessingButton from '../../UI/ProcessingButton/ProcessingButton';\n\nimport './Form.css';\n\nconst adminForm = (props) => {\n\n    const doSubmit = (e) => {\n        props.submitted(e);\n        window.scrollTo(0, 0);\n    };\n\n    return (\n        <div className=\"AdminForm\">\n            {props.success ?\n                <Message type=\"success\" text={props.success} />\n            : null}\n            {props.error ?\n                <Message type=\"error\" text={props.error} />\n            : null}\n\n            {props.help ?\n                <div className=\"FormHeader\">\n                    <div className=\"HelpBox\">{props.help}</div>\n                </div>\n            : null}\n\n            <form method=\"post\" onSubmit={props.submitted}>\n                <div className=\"FormElements\">\n                    {props.children}\n                </div>\n\n                <div className=\"ButtonHolder\">\n                    <ProcessingButton\n                        disabled={!props.valid}\n                        working={props.processing}\n                        clicked={doSubmit}\n                        text={props.button_text || 'Submit'} />\n                </div>\n            </form>\n        </div>\n    );\n};\n\nexport default adminForm;\n","import React from 'react';\n\nimport './Element.css';\n\nconst adminElement = (props) => {\n    let classes = [ 'AdminFormElement' ];\n    if (props.add_class) {\n        classes.push(props.add_class);\n    }\n    return (\n        <div className={classes.join(' ')}>\n            <h3>{props.label}</h3>\n            {props.help ?\n                <div className=\"Description\">\n                    {props.help}\n                </div>\n            : null}\n            {props.error ?\n                <p className=\"Error\">{props.error}</p>\n            : null}\n            {props.children}\n        </div>\n    );\n};\n\nexport default adminElement;\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\n\nimport AdminPage from '../../../../hoc/AdminPage/AdminPage';\nimport Aux from '../../../../hoc/Aux/Aux';\nimport Spinner from '../../../../components/UI/Spinner/Spinner';\nimport Message from '../../../../components/UI/Message/Message';\nimport EditMarkdown from '../../../../components/Admin/EditMarkdown/EditMarkdown';\nimport Form from '../../../../components/Admin/Form/Form';\nimport Element from '../../../../components/Admin/Form/Element/Element';\nimport Api from '../../../../storage/Api';\nimport Language from '../../../../utils/Language';\nimport Logger from '../../../../utils/Logger';\n\nclass AdminResultsEdit extends Component {\n\n    state = {\n        loaded: false,\n        benefit: null,\n        scenario: null,\n        error: null,\n        processing: false,\n        processing_error: null,\n        saved: false,\n        help: null,\n        form: {\n            enabled: {\n                value: false,\n                error: null\n            },\n            en_result: {\n                value: null,\n                error: null\n            },\n            en_expanded: {\n                value: null,\n                error: null\n            }\n        },\n        formValid: true\n    };\n\n    refresh = () => {\n        this.fetchScenario();\n    };\n\n    submitForm = (e) => {\n        e.preventDefault();\n        this.setState({\n            processing: true,\n            processing_error: null,\n            saved: false\n        });\n        const data = {\n            token: this.props.token,\n            enabled: this.state.form.enabled.value,\n            en_result: this.state.form.en_result.value,\n            en_expanded: this.state.form.en_expanded.value\n        };\n        Api.saveScenario(\n                this.props.match.params.benefit,\n                this.props.match.params.id,\n                data\n            )\n            .then((response) => {\n                this.setState({\n                    processing: false,\n                    processing_error: false,\n                    saved: true\n                });\n            })\n            .catch((error) => {\n                if (!error.isAxiosError) {\n                    throw error;\n                }\n                Logger.alert('Could not save scenario', { api_error: Api.parseAxiosError(error), benefit: this.props.match.params.benefit, scenario_id: this.props.match.params.id });\n                this.setState({\n                    processing: false,\n                    processing_error: 'Could not save scenario'\n                });\n            });\n    };\n\n    clickedEnabled = (e) => {\n        e.stopPropagation();\n        this.setState(prevState => {\n            let newForm = this.copyForm(prevState.form);\n            newForm.enabled.value = !prevState.form.enabled.value;\n            return { form: newForm };\n        }, () => { this.validate(); });\n    };\n\n    changedResult = (e) => {\n        let newForm = this.copyForm(this.state.form);\n        newForm.en_result.value = e.target.value;\n        this.setState({ form: newForm }, () => { this.validate(); });\n    };\n\n    changedExpanded = (e) => {\n        let newForm = this.copyForm(this.state.form);\n        newForm.en_expanded.value = e.target.value;\n        this.setState({ form: newForm }, () => { this.validate(); });\n    };\n\n    componentDidMount() {\n        Logger.setComponent('Admin/Results/Edit');\n        this.fetchScenario();\n    }\n\n    fetchScenario() {\n        this.setState({\n            loaded: false,\n            benefit: null,\n            scenario: null,\n            error: null\n        });\n        const data = { token: this.props.token };\n        Api.getScenario(\n                this.props.match.params.benefit,\n                this.props.match.params.id,\n                data\n            )\n            .then((response) => {\n                if (!response.data.benefit || !response.data.scenario) {\n                    this.setState({ error: 'That scenario is unknown' });\n                } else {\n                    const benefit = response.data.benefit;\n                    const scenario = response.data.scenario;\n                    this.setState(prevState => {\n                        let newForm = this.copyForm(prevState.form);\n                        newForm.enabled.value = scenario.enabled;\n                        newForm.en_result.value = scenario.en_result;\n                        newForm.en_expanded.value = scenario.en_expanded;\n                        return {\n                            loaded: true,\n                            benefit: benefit,\n                            scenario: scenario,\n                            form: newForm,\n                            help: this.buildHelp(scenario)\n                        };\n                    }, () => { this.validate(); });\n                }\n            })\n            .catch((error) => {\n                if (!error.isAxiosError) {\n                    throw error;\n                }\n                Logger.alert('Could not fetch scenario', { api_error: Api.parseAxiosError(error) });\n                this.setState({ error: 'Could not fetch scenario' });\n            });\n    }\n\n    buildHelp(scenario) {\n        let allhelp = {};\n\n        const scenarioLines = scenario.help.split(\"\\n\").join('<br />');\n        allhelp.form = <p dangerouslySetInnerHTML={{__html: scenarioLines}}></p>;\n\n        allhelp.enabled = <p>When this is flag is on, the user will get a response for this scenario.  If we're confident that their employee is not eligible for this benefits, uncheck the box.</p>;\n\n        allhelp.en_result = (\n            <Aux>\n                <p>This text should be kept very short and should answer the following questions where relevant:</p>\n                <ul>\n                    <li>What is this benefit?</li>\n                    <li>Who pays for it?</li>\n                    <li>How do they apply?</li>\n                </ul>\n            </Aux>\n        );\n\n        allhelp.en_expanded = (\n            <p>When the user clicks the \"read more\" button, this is what appears below the main result.  It will be followed by any resource links that have been set for the benefit, and can be collapsed out of view when they click \"read less\".</p>\n        );\n\n        return allhelp;\n    }\n\n    copyForm(form) {\n        let newForm = {};\n        for (const k in form) {\n            newForm[k] = { ...form[k] };\n        }\n        return newForm;\n    }\n\n    validate() {\n        let newForm = this.copyForm(this.state.form);\n        newForm.enabled.error = null;\n        newForm.en_result.error = null;\n        newForm.en_expanded.error = null;\n        let formValid = true;\n        if (this.state.form.enabled.value) {\n            const result = this.state.form.en_result.value;\n            if (!result || result.trim().length < 1) {\n                newForm.en_result.error = 'Please enter some text for the response';\n                formValid = false;\n            }\n        }\n        this.setState({ form: newForm, formValid: formValid });\n    }\n\n    render() {\n        Logger.setComponent('Admin/Results/Edit');\n        let body = null;\n        let title = 'Results: ';\n        let crumbs = ['Admin', 'Results'];\n\n        if (this.state.loaded) {\n            title += this.state.benefit.abbreviation + ': Edit Scenario';\n            crumbs.push(this.state.benefit.abbreviation);\n            crumbs.push('Scenario');\n\n            let i = 0;\n            const elements = [];\n\n            // Enabled\n            ++i;\n            elements.push(\n                <Element key={i} add_class=\"Checkbox\"\n                    label=\"Eligibility\"\n                    help={this.state.help.enabled}\n                    error={this.state.form.enabled.error}>\n                    <input type=\"checkbox\"\n                        name=\"enabled\"\n                        checked={this.state.form.enabled.value}\n                        onChange={this.clickedEnabled} />\n                    <label onClick={this.clickedEnabled}>The employee would be eligible in this scenario</label>\n                </Element>\n            );\n\n            // Main Result\n            if (this.state.form.enabled.value) {\n                ++i;\n                elements.push(\n                    <Element key={i} add_class=\"Markdown\"\n                        label=\"Main Result\"\n                        help={this.state.help.en_result}\n                        error={this.state.form.en_result.error}>\n                        <EditMarkdown\n                            name=\"en_result\"\n                            value={this.state.form.en_result.value}\n                            changed={this.changedResult}\n                            replace_token=\"employee_type\"\n                            replace_options={Language.get_token_options('employee_type')} />\n                    </Element>\n                );\n            }\n\n            // Expanded Result\n            if (this.state.form.enabled.value) {\n                ++i;\n                elements.push(\n                    <Element key={i} add_class=\"Markdown\"\n                        label=\"Expanded Info\"\n                        help={this.state.help.en_expanded}\n                        error={this.state.form.en_expanded.error}>\n                        <EditMarkdown\n                            name=\"en_expanded\"\n                            value={this.state.form.en_expanded.value}\n                            changed={this.changedExpanded}\n                            replace_token=\"employee_type\"\n                            replace_options={Language.get_token_options('employee_type')} />\n                    </Element>\n                );\n            }\n\n            body = (\n                <Form\n                    help={this.state.help.form}\n                    success={this.state.saved ? 'The scenario response has been saved' : null}\n                    error={this.state.processing_error}\n                    valid={this.state.formValid}\n                    processing={this.state.processing}\n                    submitted={this.submitForm}>\n                    {elements}\n                </Form>\n            );\n\n        } else {\n            title += 'Edit Scenario';\n            crumbs.push('Scenario');\n\n            body = (\n                <Aux>\n                    {this.state.error ?\n                        <Message type=\"error\" text={this.state.error} tryagain={this.refresh} />\n                    : null}\n                    <Spinner />\n                </Aux>\n            );\n        }\n\n        return (\n            <AdminPage title={title} breadcrumbs={crumbs}>\n                {body}\n            </AdminPage>\n        );\n    }\n\n}\n\nexport default withRouter(AdminResultsEdit);\n","import React, { Component } from 'react';\nimport { Route, Switch } from 'react-router-dom';\n\nimport List from './List/List';\nimport Filter from './Filter/Filter';\nimport Edit from './Edit/Edit';\n\nclass AdminResults extends Component {\n\n    render() {\n        const doEdit = () => {\n            return <Edit token={this.props.token} />;\n        };\n        const doFilter = () => {\n            return <Filter token={this.props.token} />;\n        };\n        const doList = () => {\n            return <List token={this.props.token} />;\n        };\n        // /admin/results/resources/edit/1\n        return (\n            <Switch>\n                <Route path=\"/admin/results/:benefit/edit/:id\" render={doEdit} />\n                <Route path=\"/admin/results/:benefit\" render={doFilter} />\n                <Route path=\"/\" render={doList} />\n            </Switch>\n        );\n    }\n\n}\n\nexport default AdminResults;\n","import React from 'react';\n\nimport './Backdrop.css';\n\nconst backdrop = (props) => {\n    if (props.show) {\n        return (\n            <div className=\"Backdrop\" onClick={props.clicked}></div>\n        );\n    } else {\n        return null;\n    }\n};\n\nexport default backdrop;\n","import React from 'react';\n\nimport Backdrop from '../Backdrop/Backdrop';\nimport Aux from '../../../hoc/Aux/Aux';\n\nimport './Modal.css';\n\nconst modal = (props) => {\n    let classes = [ 'Modal' ];\n    if (props.show) {\n        classes.push('Show');\n    } else {\n        classes.push('Hide');\n    }\n    return (\n        <Aux>\n            <Backdrop show={props.show} clicked={props.cancel} />\n            <div className={classes.join(' ')}>\n                {props.children}\n            </div>\n        </Aux>\n    );\n};\n\nexport default modal;\n","import React from 'react';\n\nimport Aux from '../../../hoc/Aux/Aux';\nimport Modal from '../../UI/Modal/Modal';\nimport Markdown from '../../../utils/Markdown';\nimport IconButton from '../../UI/IconButton/IconButton';\nimport ProcessingButton from '../../UI/ProcessingButton/ProcessingButton';\n\nimport './ConfirmDeleteResource.css';\n\nconst confirmDeleteResource = (props) => {\n\n    let contents = null;\n\n    if (props.candidate) {\n        console.log(props.candidate);\n        contents = (\n            <Aux>\n                <h4>Are you sure you want to delete this resource?</h4>\n                <div>\n                    <p><strong>Group:</strong> {props.candidate.benefit}</p>\n                    <p><strong>URL:</strong> {props.candidate.link}</p>\n                    <p><strong>Text:</strong> {props.candidate.text}</p>\n                    {props.candidate.desc ?\n                    <div>\n                        <p><strong>Description:</strong></p>\n                        <div dangerouslySetInnerHTML={{__html: Markdown.render(props.candidate.desc)}}></div>\n                    </div>\n                    : null}\n                </div>\n                <div className=\"DeleteButton\">\n                    <ProcessingButton\n                        working={props.working}\n                        clicked={props.confirm}\n                        text=\"Delete\" />\n                </div>\n            </Aux>\n        );\n    }\n\n    return (\n        <Modal show={props.confirming} cancel={props.cancel}>\n            <div className=\"ConfirmDeleteResource\">\n                <div className=\"CloseButton\">\n                    <IconButton icon_type=\"close\" clicked={props.cancel} />\n                </div>\n                {contents}\n            </div>\n        </Modal>\n    );\n\n};\n\nexport default confirmDeleteResource;\n","import React from 'react';\n\nimport IconButton from '../../UI/IconButton/IconButton';\n\nimport './ActionButtons.css';\n\nconst actionButtons = (props) => {\n    let i = 0;\n    const buttons = props.buttons.map(button => {\n        ++i;\n        if (button.clicked) {\n            const action = (e) => {\n                e.preventDefault();\n                button.clicked(e);\n            }\n            return (\n                <IconButton key={i}\n                    icon={button.icon}\n                    title={button.title}\n                    append_text={button.title}\n                    clicked={action} />\n            );\n        } else if (button.link) {\n            return (\n                <a href={button.link} className=\"ActionLink\">\n                    <i className={button.icon} title={button.title}></i>\n                    <span>{button.title}</span>\n                </a>\n            );\n        } else {\n            return null;\n        }\n    });\n    return (\n        <div className=\"ActionButtons\">\n            {buttons}\n        </div>\n    );\n};\n\nexport default actionButtons;\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { Link } from \"react-router-dom\";\n\nimport AdminPage from '../../../../hoc/AdminPage/AdminPage';\nimport Aux from '../../../../hoc/Aux/Aux';\nimport Spinner from '../../../../components/UI/Spinner/Spinner';\nimport Message from '../../../../components/UI/Message/Message';\nimport ConfirmDeleteResource from '../../../../components/Admin/ConfirmDeleteResource/ConfirmDeleteResource';\nimport ActionButtons from '../../../../components/Admin/ActionButtons/ActionButtons';\nimport Table from '../../../../components/UI/Table/Table';\nimport Api from '../../../../storage/Api';\nimport Logger from '../../../../utils/Logger';\n\nconst COMMON_CODE = 'common';\n\nclass AdminResourcesList extends Component {\n\n    state = {\n        loaded: false,\n        benefit: null,\n        resources: null,\n        error: null,\n        confirming_delete: false,\n        delete_candidate: null,\n        processing_delete: false,\n        deleted: false\n    };\n\n    resources_clickable = {\n        delete: (row) => {\n            this.setState({ confirming_delete: true, delete_candidate: row });\n        },\n    };\n\n    resources_snip = {\n        link: 40\n    };\n\n    newResource = () => {\n        const code = this.getBenefitCode();\n        if (code && code !== COMMON_CODE) {\n            this.props.history.push('/admin/resources/new/' + code);\n        } else {\n            this.props.history.push('/admin/resources/new');\n        }\n    }\n\n    refresh = () => {\n        this.fetchResources(true);\n    };\n\n    cancelDelete = () => {\n        this.setState({ confirming_delete: false, delete_candidate: null });\n    };\n\n    confirmDelete = () => {\n        this.deleteResource();\n    };\n\n    closeDeleteMessage = () => {\n        this.setState({ deleted: false });\n    };\n\n    componentDidMount() {\n        Logger.setComponent('Admin/Resources/List');\n        this.fetchResources(true);\n    }\n\n    fetchResources(fetch_all) {\n        this.setState({ loaded: false, resources: null, error: null });\n        const data = { token: this.props.token };\n        Api.getResources(data, this.getBenefitCode())\n            .then((response) => {\n                const resources = response.data.resources ? response.data.resources : [];\n                if (fetch_all) {\n                    this.setState({ resources: resources });\n                    this.fetchBenefit();\n                } else {\n                    this.setState({ loaded: true, resources: resources });\n                }\n            })\n            .catch((error) => {\n                if (!error.isAxiosError) {\n                    throw error;\n                }\n                Logger.alert('Could not fetch resources', { api_error: Api.parseAxiosError(error) });\n                this.setState({ error: 'Could not fetch resources' });\n            });\n    }\n\n    fetchBenefit() {\n        const b_code = this.getBenefitCode();\n        if (b_code && b_code !== COMMON_CODE) {\n            this.setState({ loaded: false, benefit: null, error: null });\n            const data = { token: this.props.token };\n            Api.getBenefitInfo(this.getBenefitCode(), data)\n                .then((response) => {\n                    if (!response.data.benefit) {\n                        this.setState({ error: 'That benefit is unknown' });\n                    } else {\n                        this.setState({ loaded: true, benefit: response.data.benefit });\n                    }\n                })\n                .catch((error) => {\n                    if (!error.isAxiosError) {\n                        throw error;\n                    }\n                    Logger.alert('Could not fetch benefit', { api_error: Api.parseAxiosError(error) });\n                    this.setState({ error: 'Could not fetch benefit' });\n                });\n        } else {\n            this.setState({ loaded: true });\n        }\n    }\n\n    deleteResource() { \n        this.setState({ processing_delete: true, deleted: false });\n        const data = {\n            token: this.props.token,\n            id: this.state.delete_candidate.id\n        };\n        Api.deleteResource(data)\n            .then((response) => {\n                this.setState({ processing_delete: false, deleted: true, confirming_delete: false });\n                this.fetchResources();\n            })\n            .catch((error) => {\n                if (!error.isAxiosError) {\n                    throw error;\n                }\n                Logger.alert('Could not delete resource', { api_error: Api.parseAxiosError(error) });\n                this.setState({ error: 'Could not delete resource', processing_delete: false });\n            });\n    }\n\n    getBenefitCode() {\n        return this.props.match.params.benefit;\n    }\n\n    render() {\n        Logger.setComponent('Admin/Resources/List');\n        let body = null;\n        let title = 'Results: ';\n        let crumbs = ['Admin' ];\n        if (this.state.loaded) {\n            if (this.state.benefit) {\n                title += this.state.benefit.abbreviation + ': Resources';\n                crumbs.push(this.state.benefit.abbreviation);\n                crumbs.push('Resources');\n            } else if (this.getBenefitCode() === COMMON_CODE) {\n                title += 'Common Resources';\n                crumbs.push('Resources');\n            } else {\n                title += 'All Resources';\n                crumbs.push('Resources');\n            }\n            let resources_rows = this.state.resources\n                .map(resource => {\n                    let edit_link = (\n                        <Link to={'/admin/resources/edit/' + resource.id}>\n                            <i className=\"fas fa-pencil-alt\" title=\"Edit Resource\"></i>\n                        </Link>\n                    );\n                    let row = {\n                        id: resource.id,\n                        code: resource.code,\n                        text: resource.en_text,\n                        desc: resource.en_desc,\n                        link: resource.links.en,\n                        edit: edit_link,\n                        delete: <i className=\"fas fa-trash-alt\" title=\"Delete Resource\"></i>\n                    };\n                    if (!this.state.benefit) {\n                        row.benefit = resource.benefit || 'Common';\n                    }\n                    return row;\n                });\n            let resources_cols = [];\n            if (!this.state.benefit) {\n                resources_cols.push({ key: 'benefit', title: 'Benefit' });\n            }\n            resources_cols.push({ key: 'link', title: 'Link' });\n            resources_cols.push({ key: 'text', title: 'Text' });\n            resources_cols.push({ key: 'edit', title: 'Edit' });\n            resources_cols.push({ key: 'delete', title: 'Delete' });\n            body = (\n                <Aux>\n                    {this.state.deleted ?\n                        <Message type=\"success\" text=\"The resource was deleted\" closed={this.closeDeleteMessage} />\n                    : null}\n                    <ConfirmDeleteResource\n                        confirming={this.state.confirming_delete}\n                        working={this.state.processing_delete}\n                        confirm={this.confirmDelete}\n                        cancel={this.cancelDelete}\n                        candidate={this.state.delete_candidate} />\n                    <ActionButtons buttons={[{icon: \"fas fa-plus-circle\",\n                        title: \"New Resource\",\n                        clicked: this.newResource}]} />\n                    <Table\n                        rows={resources_rows}\n                        cols={resources_cols}\n                        clickable={this.resources_clickable}\n                        snip={this.resources_snip} />\n                </Aux>\n            );\n\n        } else {\n            title += 'Resources';\n            crumbs.push('Resources');\n\n            body = (\n                <Aux>\n                    {this.state.error ?\n                        <Message type=\"error\" text={this.state.error} tryagain={this.refresh} />\n                    : null}\n                    <Spinner />\n                </Aux>\n            );\n        }\n\n        return (\n            <AdminPage title={title} breadcrumbs={crumbs}>\n                {body}\n            </AdminPage>\n        );\n    }\n}\n\nexport default withRouter(AdminResourcesList);\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\n\nimport AdminPage from '../../../../hoc/AdminPage/AdminPage';\nimport Aux from '../../../../hoc/Aux/Aux';\nimport Spinner from '../../../../components/UI/Spinner/Spinner';\nimport Message from '../../../../components/UI/Message/Message';\nimport Form from '../../../../components/Admin/Form/Form';\nimport Element from '../../../../components/Admin/Form/Element/Element';\nimport EditMarkdown from '../../../../components/Admin/EditMarkdown/EditMarkdown';\nimport Api from '../../../../storage/Api';\nimport Language from '../../../../utils/Language';\nimport Logger from '../../../../utils/Logger';\n\nclass AdminResourcesEdit extends Component {\n\n    state = {\n        loaded: false,\n        resource: null,\n        reload_id: null,\n        all_benefits: [],\n        error: null,\n        form: {\n            benefit_id: {\n                value: null,\n                error: null\n            },\n            link_en: {\n                value: null,\n                error: null\n            },\n            en_text: {\n                value: null,\n                error: null\n            },\n            en_desc: {\n                value: null,\n                error: null\n            }\n        },\n        formValid: true,\n        saved: false,\n        processing_error: null,\n        processing: false\n    };\n\n    help = {\n        benefit_id: <p>The benefit associated with this resource</p>,\n        link_en: <p>The link to this resource</p>,\n        en_text: <p>The text for the link</p>,\n        en_desc: <p>Any description that should be shown below the link (optional)</p>\n    };\n\n    changedBenefitID = (e) => {\n        let newForm = this.copyForm(this.state.form);\n        newForm.benefit_id.value = e.target.value;\n        this.setState({ form: newForm }, () => { this.validate(); });\n    };\n\n    changedLink = (e) => {\n        let newForm = this.copyForm(this.state.form);\n        newForm.link_en.value = e.target.value;\n        this.setState({ form: newForm }, () => { this.validate(); });\n    };\n\n    changedText = (e) => {\n        let newForm = this.copyForm(this.state.form);\n        newForm.en_text.value = e.target.value;\n        this.setState({ form: newForm }, () => { this.validate(); });\n    };\n\n    changedDescription = (e) => {\n        let newForm = this.copyForm(this.state.form);\n        newForm.en_desc.value = e.target.value;\n        this.setState({ form: newForm }, () => { this.validate(); });\n    };\n\n    submitForm = (e) => {\n        e.preventDefault();\n        this.setState({\n            processing: true,\n            processing_error: null,\n            saved: false\n        });\n        let info = {};\n        if (this.state.resource) {\n            info.id = this.state.resource.id;\n            info.code = this.state.resource.code;\n            info.lang_key_text = this.state.resource.lang_key_text;\n            info.lang_key_desc = this.state.resource.lang_key_desc;\n        }\n        info.benefit = null;\n        const form_id = this.state.form.benefit_id.value ? parseInt(this.state.form.benefit_id.value) : NaN;\n        if (!isNaN(form_id)) {\n            for (var b of this.state.all_benefits) {\n                if (b.id === form_id) {\n                    info.benefit = { ...b };\n                }\n            }\n        }\n        info.en_text = this.state.form.en_text.value;\n        info.en_desc = this.state.form.en_desc.value;\n        info.links = { en: this.state.form.link_en.value };\n        Api.saveResource({\n                token: this.props.token,\n                info: info\n            })\n            .then((response) => {\n                let doNext = null;\n                if (!info.id) {\n                    doNext = () => {\n                        if (response.data.id) {\n                            this.props.history.push('/admin/resources/edit/' + response.data.id);\n                            this.setState({ reload_id: response.data.id }, () => { this.fetchResource(); });\n                        }\n                    };\n                }\n                this.setState({\n                    processing: false,\n                    processing_error: false,\n                    saved: true\n                }, doNext);\n            })\n            .catch((error) => {\n                if (!error.isAxiosError) {\n                    throw error;\n                }\n                Logger.alert('Could not save resource', { api_error: Api.parseAxiosError(error), info: info });\n                this.setState({\n                    processing: false,\n                    processing_error: 'Could not save resource'\n                });\n            });\n    };\n\n    refresh = () => {\n        if (this.getId()) {\n            this.fetchResource(true);\n        } else {\n            this.fetchBenefits();\n        }\n    };\n\n    componentDidMount() {\n        Logger.setComponent('Admin/Resources/Edit');\n        if (this.getId()) {\n            this.fetchResource(true);\n        } else {\n            this.fetchBenefits();\n        }\n    }\n\n    fetchResource(fetch_all) {\n        this.setState({ loaded: false, resource: null, error: null });\n        const data = { token: this.props.token };\n        Api.getResource(this.getId(), data)\n            .then((response) => {\n                const resource = response.data.resource;\n                if (fetch_all) {\n                    this.refreshForm(resource);\n                    this.fetchBenefits();\n                } else {\n                    this.refreshForm(resource, true);\n                }\n            })\n            .catch((error) => {\n                if (!error.isAxiosError) {\n                    throw error;\n                }\n                Logger.alert('Could not fetch resource', { api_error: Api.parseAxiosError(error) });\n                this.setState({ error: 'Could not fetch resource' });\n            });\n    }\n\n    fetchBenefits() {\n        this.setState({ loaded: false, all_benefits: null, error: null });\n        const data = { token: this.props.token };\n        Api.getBenefits(data)\n            .then((response) => {\n                const benefits = response.data.benefits ? response.data.benefits : [];\n                this.setState((prevState) => {\n                    let newState = { loaded: true, all_benefits: benefits };\n                    let benefit_id = null;\n                    if (this.props.match.params.benefit) {\n                        for (const b of newState.all_benefits) {\n                            if (this.props.match.params.benefit === b.code) {\n                                benefit_id = b.id;\n                            }\n                        }\n                    }\n                    if (benefit_id !== null) {\n                        let newForm = this.copyForm(prevState.form);\n                        newForm.benefit_id.value = benefit_id;\n                        newState.form = newForm;\n                    }\n                    return newState;\n                });\n            })\n            .catch((error) => {\n                if (!error.isAxiosError) {\n                    throw error;\n                }\n                Logger.alert('Could not fetch benefits', { api_error: Api.parseAxiosError(error) });\n                this.setState({ error: 'Could not fetch benefits' });\n            });\n    }\n\n    refreshForm(resource, markLoaded) {\n        this.setState(prevState => {\n            let newForm = this.copyForm(prevState.form);\n            newForm.benefit_id.value = resource.benefit ? resource.benefit.id : null;\n            newForm.link_en.value = resource.links.en;\n            newForm.en_text.value = resource.en_text;\n            newForm.en_desc.value = resource.en_desc;\n            let newState = {\n                resource: resource,\n                form: newForm\n            };\n            if (markLoaded) {\n                newState.loaded = true;\n            }\n            return newState;\n        }, () => { this.validate(); });\n    }\n\n    copyForm(form) {\n        let newForm = {};\n        for (const k in form) {\n            newForm[k] = { ...form[k] };\n        }\n        return newForm;\n    }\n\n    validate() {\n        let oldForm = this.state.form;\n        let newForm = this.copyForm(oldForm);\n        for (const k in newForm) {\n            newForm[k].error = null;\n        }\n        let ok = true;\n        if (!oldForm.link_en.value ||\n            oldForm.link_en.value.trim().length < 1) {\n            newForm.link_en.error = 'Please enter a link to this resource';\n        }\n        if (!oldForm.en_text.value ||\n            oldForm.en_text.value.trim().length < 1) {\n            newForm.en_text.error = 'Please enter the text used to link to this resource';\n        }\n        this.setState({ formValid: ok, form: newForm });\n    }\n\n    getId() {\n        if (this.props.match.params.id) {\n            return this.props.match.params.id;\n        } else if (this.state.reload_id !== null) {\n            return this.state.reload_id;\n        } else {\n            return null;\n        }\n    }\n\n    render() {\n        Logger.setComponent('Admin/Resources/Edit');\n\n        let body = null;\n        let title = 'Resources: Edit';\n        let crumbs = ['Admin', 'Resources'];\n\n        if (this.state.loaded) {\n            let elements = [];\n            let i = 0;\n\n            if (this.state.resource === null) {\n                title = 'Resources: New';\n            }\n\n            // Benefit\n            ++i;\n            let options = this.state.all_benefits.map(benefit => {\n                return (\n                    <option key={benefit.id} value={benefit.id}>{benefit.abbreviation}</option>\n                );\n            });\n            options.unshift(<option key=\"common\" value=\"\">Common</option>);\n            elements.push(\n                <Element key={i} add_class=\"Select\"\n                    label=\"Associated Benefit\"\n                    help={this.help.benefit_id}\n                    error={this.state.form.benefit_id.error}>\n                    <select name=\"benefit_id\"\n                        value={this.state.form.benefit_id.value || ''}\n                        onChange={this.changedBenefitID}>\n                        {options}\n                    </select>\n                </Element>\n            );\n\n            // Link\n            ++i;\n            elements.push(\n                <Element key={i} add_class=\"Text\"\n                    label=\"URL\"\n                    help={this.help.link_en}\n                    error={this.state.form.link_en.error}>\n                    <input type=\"text\" name=\"link_en\" size=\"80\"\n                        value={this.state.form.link_en.value || ''}\n                        onChange={this.changedLink} />\n                </Element>\n            );\n\n            // Main Text\n            ++i;\n            elements.push(\n                <Element key={i} add_class=\"Text\"\n                    label=\"Text\"\n                    help={this.help.en_text}\n                    error={this.state.form.en_text.error}>\n                    <input type=\"text\" name=\"en_text\" size=\"80\"\n                        value={this.state.form.en_text.value || ''}\n                        onChange={this.changedText} />\n                </Element>\n            );\n\n            // Description\n            ++i;\n            elements.push(\n                <Element key={i} add_class=\"Text\"\n                    label=\"Description\"\n                    help={this.help.en_desc}\n                    error={this.state.form.en_desc.error}>\n                    <EditMarkdown\n                        name=\"en_result\"\n                        value={this.state.form.en_desc.value}\n                        changed={this.changedDescription}\n                        replace_token=\"employee_type\"\n                        replace_options={Language.get_token_options('employee_type')} />\n                </Element>\n            );\n\n            body = (\n                <Form\n                    success={this.state.saved ? 'The resource has been saved' : null}\n                    error={this.state.processing_error}\n                    valid={this.state.formValid}\n                    processing={this.state.processing}\n                    submitted={this.submitForm}>\n                    {elements}\n                </Form>\n            );\n        } else {\n            body = (\n                <Aux>\n                    {this.state.error ?\n                        <Message type=\"error\" text={this.state.error} tryagain={this.refresh} />\n                    : null}\n                    <Spinner />\n                </Aux>\n            );\n        }\n        return (\n            <AdminPage title={title} breadcrumbs={crumbs}>\n                {body}\n            </AdminPage>\n        );\n    }\n}\n\nexport default withRouter(AdminResourcesEdit);\n","import React, { Component } from 'react';\nimport { Route, Switch } from 'react-router-dom';\n\nimport List from './List/List';\nimport Edit from './Edit/Edit';\n\nclass AdminResources extends Component {\n\n    render() {\n        const doEdit = () => {\n            return <Edit token={this.props.token} />;\n        };\n        const doList = () => {\n            return <List token={this.props.token} />;\n        };\n        return (\n            <Switch>\n                <Route path=\"/admin/resources/edit/:id\" render={doEdit} />\n                <Route path=\"/admin/resources/new/:benefit\" render={doEdit} />\n                <Route path=\"/admin/resources/new\" render={doEdit} />\n                <Route path=\"/admin/resources/:benefit\" render={doList} />\n                <Route path=\"/\" render={doList} />\n            </Switch>\n        );\n    }\n\n}\n\nexport default AdminResources;\n","import React from 'react';\n\nimport IconButton from '../IconButton/IconButton';\n\nimport './SearchFilters.css';\n\nconst searchFilters = (props) => {\n    const searches = props.searches.map(search => {\n        let clearButton = null;\n        if (search.value) {\n            clearButton = <IconButton icon=\"far fa-times-circle\"\n                title={search.clear_title || 'Clear'}\n                clicked={props.cleared} />;\n        }\n        return (\n            <div className=\"Filter\" key={search.label}>\n                <label>{search.label}</label>\n                <input type=\"text\" name={search.name}\n                    size=\"40\"\n                    value={search.value || ''}\n                    onChange={props.changed} />\n                {clearButton}\n            </div>\n        );\n    });\n    return (\n        <div className=\"SearchFilters\">\n            {searches}\n        </div>\n    );\n};\n\nexport default searchFilters;\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\n\nimport AdminPage from '../../../../hoc/AdminPage/AdminPage';\nimport Aux from '../../../../hoc/Aux/Aux';\nimport Spinner from '../../../../components/UI/Spinner/Spinner';\nimport SelectFilters from '../../../../components/UI/SelectFilters/SelectFilters';\nimport SearchFilters from '../../../../components/UI/SearchFilters/SearchFilters';\nimport Table from '../../../../components/UI/Table/Table';\nimport Message from '../../../../components/UI/Message/Message';\nimport Api from '../../../../storage/Api';\nimport Logger from '../../../../utils/Logger';\n\nconst MAX_KEY_LENGTH = 50;\nconst MAX_ENGLISH_LENGTH = 100;\nconst SKIP_SECTIONS = [ 'results_resources', 'results_processing' ];\n\nclass AdminLanguageList extends Component {\n    \n    state = {\n        loaded: false,\n        sections: null,\n        filter: {\n            section: null,\n            search: null\n        },\n        error: null\n    };\n\n    snip = {\n        key: MAX_KEY_LENGTH,\n        english: MAX_ENGLISH_LENGTH\n    };\n\n    clickable = {\n        edit: (row) => { this.editRow(row); }\n    };\n\n    refresh = () => {\n        this.fetchLanguage();\n    };\n\n    setSectionFilter = (e) => {\n        let newFilter = { ...this.state.filter };\n        newFilter.section = e.target.value;\n        this.setState({ filter: newFilter });\n    };\n\n    doSearch = (e) => {\n        let newFilter = { ...this.state.filter };\n        newFilter.search = e.target.value.toLowerCase();\n        this.setState({ filter: newFilter });\n    };\n\n    clearSearch = (e) => {\n        e.preventDefault();\n        let newFilter = { ...this.state.filter };\n        newFilter.search = null;\n        this.setState({ filter: newFilter });\n    };\n\n    editRow(row) {\n        this.props.history.push('/admin/language/edit/' + row.key);\n    }\n\n    componentDidMount() {\n        Logger.setComponent('Admin/Language/List');\n        this.fetchLanguage();\n    }\n\n    fetchLanguage() {\n        this.setState({ loaded: false, sections: null, error: null });\n        const data = { token: this.props.token };\n        Api.getAllLanguage(data)\n            .then((response) => {\n                const all = response.data.all ? response.data.all : [];\n                this.setState({ loaded: true, sections: all });\n            })\n            .catch((error) => {\n                if (!error.isAxiosError) {\n                    throw error;\n                }\n                Logger.alert('Could not fetch language keys', { api_error: Api.parseAxiosError(error) });\n                this.setState({ error: 'Could not fetch language keys' });\n            });\n    }\n\n    filterRows() {\n        let base = [];\n        const section = this.state.filter.section || this.getSection();\n        if (section) {\n            for (const info of this.state.sections[section]) {\n                base.push({ ...info, section: section });\n            }\n        } else {\n            for (const s in this.state.sections) {\n                for (const info of this.state.sections[s]) {\n                    if (SKIP_SECTIONS.includes(s)) {\n                        continue;\n                    }\n                    base.push({ ...info, section: s });\n                }\n            }\n        }\n        return base.filter((row) => {\n            if (this.state.filter.search) {\n                if (!row.english) {\n                    return false;\n                } else if (row.english.toLowerCase().includes(this.state.filter.search)) {\n                    return true;\n                } else {\n                    return false;\n                }\n            } else {\n                return true;\n            }\n        });\n    }\n\n    getSection() {\n        if (this.props.match.params.section) {\n            return this.props.match.params.section;\n        }\n        return null;\n    }\n\n    render() {\n        Logger.setComponent('Admin/Language/List');\n        let body = null;\n        if (this.state.loaded) {\n            let cols = [\n                { key: 'key', title: 'Key' },\n                { key: 'english', title: 'English' },\n                { key: 'edit', title: 'Edit' }\n            ];\n            let filterBySection = null;\n            if (this.getSection() === null) {\n                cols.unshift({ key: 'section', title: 'Section' });\n                const options = Object.keys(this.state.sections)\n                    .map(section => {\n                        return { value: section, text: section };\n                    });\n                const selectProps = [{\n                    label: 'Filter by Section',\n                    name: 'section',\n                    options: options\n                }];\n                filterBySection = (\n                    <SelectFilters\n                        selects={selectProps}\n                        empty=\"any\"\n                        changed={this.setSectionFilter} />\n                );\n            }\n            const searches = [{\n                label: 'Search',\n                name: 'search',\n                value: this.state.filter.search\n            }];\n            const rows = this.filterRows().map(row => {\n                let tablerow = {\n                    key: row.key,\n                    english: row.english,\n                    edit: <i className=\"fas fa-pencil-alt\" title=\"Edit Language\"></i>\n                };\n                if (this.getSection() === null) {\n                    tablerow.section = row.section;\n                }\n                return tablerow;\n            });\n            body = (\n                <Aux>\n                    {filterBySection}\n                    <SearchFilters\n                        searches={searches}\n                        changed={this.doSearch}\n                        cleared={this.clearSearch} />\n                    <Table\n                        rows={rows}\n                        cols={cols}\n                        clickable={this.clickable}\n                        snip={this.snip} />\n                </Aux>\n            );\n        } else {\n            body = (\n                <Aux>\n                    {this.state.error ?\n                        <Message type=\"error\" text={this.state.error} tryagain={this.refresh} />\n                    : null}\n                    <Spinner />\n                </Aux>\n            );\n        }\n        let title = 'Language';\n        let crumbs = ['Admin', 'Language', 'List'];\n        let section = this.getSection();\n        if (section === null) {\n            title += ': All language used in the user-facing site';\n        } else {\n            let sectitle = section.split('_')\n                .map(w => w.replace(w[0], w[0].toUpperCase()))\n                .join(' ');\n            title += ': ' + sectitle + ' Section';\n            crumbs.push(sectitle);\n        }\n        return (\n            <AdminPage\n                title={title}\n                breadcrumbs={crumbs}>\n                {body}\n            </AdminPage>\n        );\n    }\n}\n\nexport default withRouter(AdminLanguageList);\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\n\nimport AdminPage from '../../../../hoc/AdminPage/AdminPage';\nimport Aux from '../../../../hoc/Aux/Aux';\nimport Spinner from '../../../../components/UI/Spinner/Spinner';\nimport Message from '../../../../components/UI/Message/Message';\nimport EditMarkdown from '../../../../components/Admin/EditMarkdown/EditMarkdown';\nimport Form from '../../../../components/Admin/Form/Form';\nimport Element from '../../../../components/Admin/Form/Element/Element';\nimport Api from '../../../../storage/Api';\nimport Logger from '../../../../utils/Logger';\nimport Language from '../../../../utils/Language';\n\nclass AdminLanguageEdit extends Component {\n\n    state = {\n        loaded: false,\n        error: null,\n        language_info: null,\n        original_english: null,\n        english: null,\n        processing: false,\n        processing_error: null,\n        saved: false\n    };\n\n    md = null;\n\n    refresh = () => {\n        this.fetchInfo();\n    };\n\n    changeEnglish = (e) => {\n        let val = e.target.value;\n        this.setState({ english: val });\n    };\n\n    submitEdit = () => {\n        this.setState({\n            processing: true,\n            saved: false,\n            processing_error: null\n        });\n        const data = {\n            token: this.props.token,\n            key: this.getKey(),\n            language: 'en',\n            translation: this.state.english\n        };\n        Api.saveTranslation(data)\n            .then((response) => {\n                console.log(response.data);\n                this.setState({\n                    processing: false,\n                    processing_error: false,\n                    saved: true\n                });\n            })\n            .catch((error) => {\n                if (!error.isAxiosError) {\n                    throw error;\n                }\n                Logger.alert('Could not save language', { api_error: Api.parseAxiosError(error), key: this.getKey() });\n                this.setState({\n                    processing: false,\n                    processing_error: 'Could not save language'\n                });\n            });\n    };\n\n    componentDidMount() {\n        Logger.setComponent('Admin/Language/Edit');\n        this.md = require('markdown-it')();\n        this.fetchInfo();\n    }\n\n    fetchInfo() {\n        this.setState({ loaded: false, error: null });\n        const data = { token: this.props.token, key: this.getKey() };\n        Api.getLanguageInfo(data)\n            .then((response) => {\n                this.setState({\n                    loaded: true,\n                    language_info: response.data.info,\n                    original_english: response.data.en,\n                    english: response.data.en\n                });\n            })\n            .catch((error) => {\n                if (!error.isAxiosError) {\n                    throw error;\n                }\n                Logger.alert('Could not fetch language info', { api_error: Api.parseAxiosError(error), key: this.getKey() });\n                this.setState({ error: 'Could not fetch language info' });\n            });\n    }\n\n    getKey() {\n        if (this.props.match.params.key) {\n            return this.props.match.params.key;\n        }\n        return null;\n    }\n\n    render() {\n        Logger.setComponent('Admin/Language/Edit');\n        let body = null;\n        if (!this.state.loaded) {\n            body = (\n                <Aux>\n                    {this.state.error ?\n                        <Message type=\"error\" text={this.state.error} tryagain={this.refresh} />\n                    : null}\n                    <Spinner />\n                </Aux>\n            );\n\n        } else {\n            let helptext = this.md.render(this.state.language_info.help);\n            let helpbox = (\n                <Aux>\n                    <p><i>Appears in: <strong>{this.state.language_info.section}</strong></i></p>\n                    {helptext ?\n                        <div dangerouslySetInnerHTML={{__html: helptext}} />\n                    : null}\n                </Aux>\n            );\n            let label = 'English text for: ' + this.getKey();\n            let input = null;\n            let elem_class = null;\n            if (this.state.language_info.markdown_allowed) {\n                elem_class = 'Markdown';\n                input = <EditMarkdown\n                    name=\"english\"\n                    value={this.state.english}\n                    changed={this.changeEnglish}\n                    replace_token={this.state.language_info.token_replace}\n                    replace_options={Language.get_token_options(this.state.language_info.token_replace)} />\n            } else {\n                elem_class = 'PlainText';\n                input = <input type=\"text\"\n                    size=\"50\"\n                    name=\"english\"\n                    value={this.state.english}\n                    onChange={this.changeEnglish} />\n            }\n            body = (\n                <Form help={helpbox}\n                    success={this.state.saved ? 'The new language has been saved' : null}\n                    error={this.state.processing_error}\n                    valid={true}\n                    processing={this.state.processing}\n                    submitted={this.submitEdit}>\n                    <Element add_class={elem_class} label={label}>\n                        {input}\n                    </Element>\n                </Form>\n            );\n        }\n\n        return (\n            <AdminPage\n                title=\"Language: Edit language for the tool\"\n                breadcrumbs={['Admin', 'Language', 'Edit']}>\n                {body}\n            </AdminPage>\n        );\n    }\n}\n\nexport default withRouter(AdminLanguageEdit);\n","import React, { Component } from 'react';\nimport { Route, Switch } from 'react-router-dom';\n\nimport List from './List/List';\nimport Edit from './Edit/Edit';\n\nclass AdminLanguage extends Component {\n\n    render() {\n        const doEdit = () => {\n            return <Edit token={this.props.token} />;\n        };\n        const doList = () => {\n            return <List token={this.props.token} />;\n        };\n        return (\n            <Switch>\n                <Route path=\"/admin/language/edit/:key\" render={doEdit} />\n                <Route path=\"/admin/language/:section\" render={doList} />\n                <Route path=\"/\" render={doList} />\n            </Switch>\n        );\n    }\n}\n\nexport default AdminLanguage;\n","import React from 'react';\n\nimport Spinner from '../../UI/Spinner/Spinner';\nimport IconButton from '../../UI/IconButton/IconButton';\nimport Message from '../../UI/Message/Message';\nimport Table from '../../UI/Table/Table';\n\nimport './DashboardBlock.css';\n\nconst dashboardBlock = (props) => {\n    let body = null;\n    if (props.loaded) {\n        let refresh = null;\n        if (props.refresh) {\n            refresh = (\n                <div className=\"RefreshWrapper\">\n                    <IconButton icon_type=\"refresh\"\n                        clicked={props.refresh} />\n                </div>\n            );\n        }\n        let data = null;\n        if (props.rows.length > 0) {\n            data = (\n                <div className=\"YesData\">\n                    <Table size=\"tiny\" rows={props.rows} cols={props.cols} />\n                </div>\n            );\n        } else {\n            data = <div className=\"NoData\">There is nothing to show</div>\n        }\n        body = (\n            <div className=\"DashboardBlockBody Loaded\">\n                {refresh}\n                {data}\n            </div>\n        );\n    } else {\n        let message = null;\n        if (props.error) {\n            message = (\n                <Message type=\"error\"\n                    text={props.error}\n                    tryagain={props.refresh} />\n            );\n        }\n        body = (\n            <div className=\"DashboardBlockBody Waiting\">\n                <Spinner />\n                {message}\n            </div>\n        );\n    }\n    return (\n        <div className=\"DashboardBlock\">\n            <h4>{props.title}</h4>\n            {body}\n        </div>\n    );\n};\n\nexport default dashboardBlock;\n","import React, { Component } from 'react';\nimport { DateTime } from 'luxon';\n\nimport Block from '../../../components/Admin/DashboardBlock/DashboardBlock';\n\nimport Api from '../../../storage/Api';\nimport Logger from '../../../utils/Logger';\nimport { shuffle } from '../../../utils/utils';\n\nclass AdminDashboard extends Component {\n\n    state = {\n        responses_loaded: false,\n        responses_error: null,\n        responses: null,\n        contacts_loaded: false,\n        contacts_error: null,\n        contacts: null,\n    };\n\n    responses_headers = [\n        { key: 'date', title: 'Date' },\n        { key: 'type', title: 'Employee Type' },\n        { key: 'agency', title: 'Agency?' },\n        { key: 'books', title: 'On the Books?' },\n    ];\n\n    contacts_headers = [\n        { key: 'email', title: 'Email' },\n        { key: 'zip', title: 'ZIP Code' },\n    ];\n\n    componentDidMount() {\n        this.fetchRecentResponses();\n        this.fetchRecentContacts();\n    }\n\n    refreshResponses = () => {\n        this.fetchRecentResponses();\n    };\n\n    refreshContacts = () => {\n        this.fetchRecentContacts();\n    };\n\n    fetchRecentResponses() {\n        this.setState({\n            responses_loaded: false,\n            responses: null,\n            responses_error: null });\n        const data = { token: this.props.token };\n        Api.getRecentResponses(data)\n            .then((response) => {\n                const found = response.data.recent ? response.data.recent : [];\n                const recent = found.map((row) => {\n                    let dt = DateTime.fromISO(row.submitted);\n                    let formatted = dt.toFormat('LLL dd');\n                    return { ...row, date: formatted };\n                });\n                this.setState({ responses_loaded: true, responses: recent });\n            })\n            .catch((error) => {\n                if (!error.isAxiosError) {\n                    throw error;\n                }\n                Logger.alert('Could not fetch recent responses', { api_error: Api.parseAxiosError(error) });\n                this.setState({ responses_error: 'Could not fetch recent responses' });\n            });\n    }\n\n    fetchRecentContacts() {\n        this.setState({\n            contacts_loaded: false,\n            contacts: null,\n            contacts_error: null });\n        const data = { token: this.props.token };\n        Api.getRecentContacts(data)\n            .then((response) => {\n                const found = response.data.recent ? response.data.recent : [];\n                // I promised not to associate contact info with response data,\n                // but at low volume and in order, it's fairly obvious, so\n                // shuffle before displaying\n                const recent = shuffle(found.map(row => {\n                    return {\n                        email: row.email,\n                        zip: row.zip_code\n                    };\n                }));\n                this.setState({ contacts_loaded: true, contacts: recent });\n            })\n            .catch((error) => {\n                if (!error.isAxiosError) {\n                    throw error;\n                }\n                Logger.alert('Could not fetch recent contacts', { api_error: Api.parseAxiosError(error) });\n                this.setState({ contacts_error: 'Could not fetch recent contacts' });\n            });\n    }\n\n    render() {\n        return (\n            <div className=\"Dashboard\">\n                <Block\n                    title=\"Recent Responses\"\n                    loaded={this.state.responses_loaded}\n                    error={this.state.responses_error}\n                    refresh={this.refreshResponses}\n                    rows={this.state.responses}\n                    cols={this.responses_headers} />\n                <Block\n                    title=\"Recent Contacts\"\n                    loaded={this.state.contacts_loaded}\n                    error={this.state.contacts_error}\n                    refresh={this.refreshContacts}\n                    rows={this.state.contacts}\n                    cols={this.contacts_headers} />\n            </div>\n        );\n    }\n}\n\nexport default AdminDashboard;\n","// Anything not worth installing a library for\n\n// shuffle (durstenfeld/fisher-yates)\nexport const shuffle = given => {\n    // work backwards to the beginning of the array\n    let result = given.slice(0);\n    let current = result.length;\n    while (0 !== current) {\n        // first, step back from the last element we worked on\n        current -= 1;\n        // pick one of the remaining elements at random\n        const random = Math.floor(Math.random() * current);\n        // and swap it with the current element\n        const tmp = result[current];\n        result[current] = result[random];\n        result[random] = tmp;\n    }\n    return result;\n};\n\n","import React, { Component } from 'react';\nimport { DateTime } from 'luxon';\n\nimport AdminPage from '../../../hoc/AdminPage/AdminPage';\nimport Aux from '../../../hoc/Aux/Aux';\nimport Spinner from '../../../components/UI/Spinner/Spinner';\nimport Table from '../../../components/UI/Table/Table';\nimport Message from '../../../components/UI/Message/Message';\nimport ActionButtons from '../../../components/Admin/ActionButtons/ActionButtons';\nimport Api from '../../../storage/Api';\nimport Questions from '../../../logic/Questions';\nimport Logger from '../../../utils/Logger';\n\nclass AdminResponses extends Component {\n\n    state = {\n        loaded: false,\n        error: null,\n        responses: null,\n        processing: false\n    };\n\n    toggle_cols = {\n        'hours per week': true,\n        'length of employment': true,\n        'hours per year': true,\n        'self-quarantine': true,\n        'family quarantine': true,\n        'stay at home': true,\n        'school closed': true,\n    };\n\n    refresh = () => {\n        this.fetchResponses();\n    };\n\n    componentDidMount() {\n        Logger.setComponent('Admin/Responses/List');\n        this.fetchResponses();\n    }\n\n    fetchResponses() {\n        this.setState({ loaded: false, responses: null, error: null });\n        const data = { token: this.props.token };\n        Api.getAllResponses(data)\n            .then((response) => {\n                const all = response.data.all ? response.data.all : [];\n                this.setState({ loaded: true, responses: all });\n            })\n            .catch((error) => {\n                if (!error.isAxiosError) {\n                    throw error;\n                }\n                Logger.alert('Could not fetch responses', { api_error: Api.parseAxiosError(error) });\n                this.setState({ error: 'Could not fetch responses' });\n            });\n    }\n\n    render() {\n        Logger.setComponent('Admin/Responses/List');\n        let body = null;\n        if (this.state.loaded) {\n            let cols = [\n                { key: 'date', title: 'Date' },\n            ];\n            const rows = this.state.responses.map(row => {\n                let tablerow = {\n                    key: row.response_id\n                };\n                const do_cols = cols.length < 2;\n                for (var qcode of Questions.question_order) {\n                    const spec = Questions.getEnglishSpec(qcode);\n                    if (do_cols) {\n                        cols.push({\n                            key: qcode,\n                            title: spec.title\n                        });\n                    }\n                    tablerow[qcode] = row[qcode];\n                }\n                let dt = DateTime.fromISO(row.submitted);\n                let formatted = dt.toFormat('LLL dd');\n                tablerow.date = formatted;\n                return tablerow;\n            });\n            body = (\n                <Aux>\n                    <ActionButtons buttons={[{icon: \"fas fa-download\",\n                        title: \"Download\",\n                        link: Api.getResponsesDownloadUrl(this.props.token) }]} />\n                    <Table rows={rows} cols={cols}\n                        toggle_cols={this.toggle_cols}\n                        toggle_expand_title=\"show all answers\"\n                        toggle_collapse_title=\"show fewer answers\" />\n                </Aux>\n            );\n        } else {\n            body = (\n                <Aux>\n                    {this.state.error ?\n                        <Message type=\"error\" text={this.state.error} tryagain={this.refresh} />\n                    : null}\n                    <Spinner />\n                </Aux>\n            );\n        }\n        let title = 'Responses';\n        let crumbs = ['Admin', 'Responses', 'List'];\n        return (\n            <AdminPage\n                title={title}\n                breadcrumbs={crumbs}>\n                {body}\n            </AdminPage>\n        );\n    }\n}\n\nexport default AdminResponses;\n","import React, { Component } from 'react';\nimport { NavLink } from \"react-router-dom\";\n\nimport './AdminLayout.css';\n\nclass AdminLayout extends Component {\n    render() {\n\n        return (\n            <div className=\"Admin\">\n                <div className=\"AdminNav\">\n                    <ul>\n                        <li><NavLink exact to=\"/admin\">Dashboard</NavLink></li>\n                        <li><NavLink to=\"/admin/language\">Language</NavLink></li>\n                        <li><NavLink to=\"/admin/results\">Results</NavLink></li>\n                        <li><NavLink to=\"/admin/resources\">Resources</NavLink></li>\n                        <li><NavLink to=\"/admin/advanced\">Advanced</NavLink></li>\n                    </ul>\n                </div>\n                <div className=\"AdminMain\">\n                    {this.props.children}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default AdminLayout;\n","import React from 'react';\n\nimport './LoginBox.css';\n\nconst loginBox = (props) => {\n    let button = null;\n    if (props.loading) {\n        button = <button disabled=\"disabled\" className=\"Loading\">{props.lang.button_text}</button>;\n    } else {\n        button = <button type=\"submit\">{props.lang.button_text}</button>;\n    }\n\n    return (\n        <div className=\"LoginBox\">\n            {props.header ? (\n                <h3>{props.header}</h3>\n            ) : null}\n            {props.loginError ?\n                <div className=\"Error\">{props.lang.login_error}</div>\n            : null}\n            <form method=\"post\" onSubmit={props.submitted}>\n                <label>{props.lang.username_label}</label>\n                <input type=\"text\" name=\"username\" value={props.username} onChange={props.usernameChanged} autoComplete=\"username\" />\n                <label>{props.lang.password_label}</label>\n                <input type=\"password\" name=\"password\" value={props.password} onChange={props.passwordChanged} autoComplete=\"current-password\" />\n                <div className=\"ButtonContainer\">\n                    {button}\n                </div>\n            </form>\n        </div>\n    );\n}\n\nexport default loginBox;\n","import React, { Component } from 'react';\n\nimport Spinner from '../../components/UI/Spinner/Spinner';\nimport LoginBox from '../../components/LoginBox/LoginBox';\nimport Api from '../../storage/Api';\nimport Language from '../../utils/Language';\nimport Logger from '../../utils/Logger';\n\nclass Login extends Component {\n\n    state = {\n        loading: false,\n        username: '',\n        password: '',\n        loginError: false,\n        loaded_lang: false\n    };\n\n    lang = null;\n\n    changeUsername = (e) => {\n        this.setState({ username: e.target.value });\n    };\n\n    changePassword = (e) => {\n        this.setState({ password: e.target.value });\n    };\n\n    validate = (e) => {\n        e.preventDefault();\n        this.setState({\n            loading: true,\n            loginError: false\n        });\n        const data = {\n            username: this.state.username,\n            password: this.state.password\n        };\n        let call = null;\n        if (this.props.login_type === 'prelaunch') {\n            call = Api.checkPrelaunchLogin(data);\n        } else {\n            call = Api.checkAdminLogin(data);\n        }\n        call.then(response => {\n            if (response.data.token) {\n                this.setState({\n                    loading: false,\n                });\n                this.props.updateLoginState(response.data.token);\n            } else {\n                Logger.alert('Log in succeeded without returning a token', { returned: response.data, login_type: this.props.login_type });\n                this.setState({\n                    loading: false,\n                    loginError: true\n                });\n            }\n        })\n        .catch(error => {\n            const parsed = Api.parseAxiosError(error);\n            if (parsed.code !== 'LOGIN_INCORRECT' &&\n                parsed.code !== 'USERNAME_REQUIRED' &&\n                parsed.code !== 'PASSWORD_REQUIRED') {\n                Logger.alert('Log in failed', { api_error: parsed, login_type: this.props.login_type });\n            }\n            this.setState({\n                loading: false,\n                loginError: true\n            });\n        });\n    }\n\n    componentDidMount() {\n        this.lang = {\n            button_text: Language.get('prelaunch_login_button_text'),\n            login_error: Language.get('prelaunch_login_error'),\n            username_label: Language.get('prelaunch_login_username_label'),\n            password_label: Language.get('prelaunch_login_password_label'),\n        };\n        this.setState({ loaded_lang: true });\n    }\n\n    render() {\n        if (!this.state.loaded_lang) {\n            return <Spinner />;\n        }\n        return <LoginBox\n            header={this.props.header}\n            loading={this.state.loading}\n            loginError={this.state.loginError}\n            username={this.state.username}\n            password={this.state.password}\n            usernameChanged={this.changeUsername}\n            passwordChanged={this.changePassword}\n            submitted={this.validate}\n            lang={this.lang} />;\n    }\n\n}\n\nexport default Login;\n","import CookieBase from '../CookieBase';\n\nconst loginCookie = new CookieBase(\n    'hnct-login', // name\n    {\n        path: '/',\n        maxAge: 60 * 60,\n        sameSite: 'Strict'\n    } // spec\n);\n\nexport default loginCookie;\n","import React, { Component } from 'react';\nimport { Route, Switch } from 'react-router-dom';\n\nimport Advanced from './Advanced/Advanced';\nimport Results from './Results/Results';\nimport Resources from './Resources/Resources';\nimport Language from './Language/Language';\nimport Dashboard from './Dashboard/Dashboard';\nimport Responses from './Responses/Responses';\nimport AdminLayout from '../../hoc/AdminLayout/AdminLayout';\nimport Login from '../Login/Login';\nimport Spinner from '../../components/UI/Spinner/Spinner';\nimport LoginCookie from '../../storage/cookies/LoginCookie';\nimport Api from '../../storage/Api';\nimport Logger from '../../utils/Logger';\n\nimport './Admin.css';\n\nclass Admin extends Component {\n\n    state = {\n        loggedIn: false,\n        loaded: false,\n        token: null\n    };\n\n    updateLogin = (token) => {\n        this.setState({ loggedIn: true, loaded: true, token: token });\n        LoginCookie.set(token);\n    };\n\n    componentDidMount() {\n        let token = LoginCookie.get();\n        if (token) {\n            Api.checkAdminToken({ token: token })\n                .then(response => {\n                    this.setState({ loggedIn: true, loaded: true, token: token });\n                })\n                .catch(error => {\n                    if (!error.isAxiosError) {\n                        throw error;\n                    }\n                    const parsed = Api.parseAxiosError(error);\n                    if (parsed.code !== 'TOKEN_INVALID') {\n                        Logger.alert('Admin session check failed', { api_error: parsed });\n                    }\n                    this.setState({ loaded: true });\n                });\n        } else {\n            this.setState({ loaded: true });\n        }\n    }\n\n    render() {\n        if (!this.state.loaded) {\n            return <Spinner />;\n        }\n\n        if (this.state.loggedIn) {\n            const doAdvanced = () => <Advanced token={this.state.token} />;\n            const doResources = () => <Resources token={this.state.token} />;\n            const doResults = () => <Results token={this.state.token} />;\n            const doLanguage = () => <Language token={this.state.token} />;\n            const doResponses = () => <Responses token={this.state.token} />;\n            const doDashboard = () => <Dashboard token={this.state.token} />;\n            return (\n                <AdminLayout>\n                    <Switch>\n                        <Route path=\"/admin/advanced\" render={doAdvanced} />\n                        <Route path=\"/admin/resources\" render={doResources} />\n                        <Route path=\"/admin/results\" render={doResults} />\n                        <Route path=\"/admin/language\" render={doLanguage} />\n                        <Route path=\"/admin/responses\" render={doResponses} />\n                        <Route path=\"/admin\" render={doDashboard} />\n                    </Switch>\n                </AdminLayout>\n            );\n\n        } else {\n            const header = 'Admin Login';\n            return (\n                <div className=\"AdminLogin\">\n                    <Login header={header} updateLoginState={this.updateLogin} />\n                </div>\n            );\n        }\n    }\n\n}\n\nexport default Admin;\n","import React, { Component } from 'react';\nimport { Route, Switch } from 'react-router-dom';\n\nimport Layout from '../../hoc/Layout/Layout';\nimport BenefitsTool from '../../containers/BenefitsTool/BenefitsTool';\nimport Admin from '../../containers/Admin/Admin';\nimport Language from '../../utils/Language';\n\nclass Main extends Component {\n\n    render() {\n        const lang = {\n            layout: {\n                logo_alt_text: Language.get('layout_logo_alt_text'),\n                header_title: Language.get('layout_header_title')\n            }\n        };\n        return (\n            <Layout lang={lang.layout}>\n                <Switch>\n                    <Route path=\"/admin\" component={Admin} />\n                    <Route path=\"/\" component={BenefitsTool} />\n                </Switch>\n            </Layout>\n        );\n    }\n}\n\nexport default Main;\n","import React, { Component } from 'react';\nimport { BrowserRouter } from 'react-router-dom';\n\n// Before launch, we loaded the PreLaunch container to wrap everything in a global access login\nimport Main from './containers/Main/Main';\n\nimport './App.css';\n\nclass App extends Component {\n\n    render() {\n        return (\n            <BrowserRouter>\n                <div className=\"App\">\n                    <Main />\n                </div>\n            </BrowserRouter>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import * as actionTypes from '../actions/actionTypes';\nimport { updateObject} from '../utility';\n\nconst initialState = {\n    visitor_id: null,\n    visitor_prefs: null,\n    answers: null,\n    visitor_id_loaded: false,\n    cookies_fetch_error: null,\n    answers_loaded: false,\n    answers_push_error: false,\n    step_saved: false,\n    answers_update_error: false,\n    loaded: false,\n    error: null\n};\n\nconst setLoaded = (state) => {\n    let newState = state;\n    if (state.visitor_id_loaded && state.answers_loaded) {\n        newState = updateObject(state, { loaded: true });\n    } else {\n        newState = updateObject(state, { loaded: false });\n    }\n    return newState;\n};\n\nconst toolCookiesLoadFailed = (state, action) => {\n    return setLoaded(updateObject(state, {\n        visitor_id_loaded: true,\n        answers_loaded: true,\n        cookies_fetch_error: action.error\n    }));\n};\n\nconst toolCookiesLoaded = (state, action) => {\n    return setLoaded(updateObject(state, {\n        visitor_id_loaded: true,\n        answers_loaded: true,\n        visitor_id: action.visitor_id,\n        visitor_prefs: action.visitor_prefs,\n        answers: action.answers\n    }));\n};\n\nconst answersClear = (state, action) => {\n    return setLoaded(updateObject(state, {\n        answers_loaded: true,\n        answers: {}\n    }));\n};\n\nconst questionInit = (state, action) => {\n    // The action includes the current step in its payload, but I don't think we actually need that\n    return updateObject(state, {\n        step_saved: false,\n        answers_push_error: false\n    });\n};\n\nconst answersPushStarted = (state, action) => {\n    return setLoaded(updateObject(state, {\n        answers_loaded: false,\n        answers_push_error: false,\n        step_saved: false\n    }));\n};\n\nconst answersPushCompleted = (state, action) => {\n    return setLoaded(updateObject(state, {\n        answers_loaded: true,\n        answers_push_error: false,\n        answers: action.answers,\n        step_saved: true\n    }));\n};\n\nconst answersPushFailed = (state, action) => {\n    return setLoaded(updateObject(state, {\n        answers_loaded: true,\n        answers_push_error: true,\n        step_saved: false\n    }));\n};\n\nconst answersUpdateStarted = (state, action) => {\n    return setLoaded(updateObject(state, {\n        answers_loaded: false,\n        answers_update_error: false\n    }));\n};\n\nconst answersUpdateCompleted = (state, action) => {\n    return setLoaded(updateObject(state, {\n        answers_loaded: true,\n        answers_update_error: false,\n        answers: action.answers\n    }));\n};\n\nconst answersUpdateFailed = (state, action) => {\n    return setLoaded(updateObject(state, {\n        answers_loaded: true,\n        answers_update_error: true\n    }));\n};\n\nconst visitorPrefsStored = (state, action) => {\n    return updateObject(state, {\n        visitor_prefs: action.visitor_prefs\n    });\n};\n\nconst reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case actionTypes.TOOL_COOKIES_LOAD_FAILED: return toolCookiesLoadFailed(state, action);\n        case actionTypes.TOOL_COOKIES_LOADED: return toolCookiesLoaded(state, action);\n        case actionTypes.ANSWERS_CLEAR: return answersClear(state, action);\n        case actionTypes.QUESTION_INIT: return questionInit(state, action);\n        case actionTypes.ANSWERS_PUSH_STARTED: return answersPushStarted(state, action);\n        case actionTypes.ANSWERS_PUSH_COMPLETED: return answersPushCompleted(state, action);\n        case actionTypes.ANSWERS_PUSH_FAILED: return answersPushFailed(state, action);\n        case actionTypes.ANSWERS_UPDATE_STARTED: return answersUpdateStarted(state, action);\n        case actionTypes.ANSWERS_UPDATE_COMPLETED: return answersUpdateCompleted(state, action);\n        case actionTypes.ANSWERS_UPDATE_FAILED: return answersUpdateFailed(state, action);\n        case actionTypes.VISITOR_PREFS_STORED: return visitorPrefsStored(state, action);\n        default: return state;\n    }\n};\n\nexport default reducer;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\n\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport toolReducer from './storage/redux/reducers/tool';\n\nimport './index.css';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(toolReducer, composeEnhancers(applyMiddleware(thunk)));\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n        <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}